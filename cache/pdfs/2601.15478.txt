--- Page 1 ---
Equal-Pay Contracts
Michal Feldman∗
Yoav Gal-Tzur†
Tomasz Ponitka‡
Maya Schlesinger§
January 23, 2026
Abstract
We study multi-agent contract design, where a principal incentivizes a team of agents to take costly
actions that jointly determine the project success via a combinatorial reward function. While prior work
largely focuses on unconstrained contracts that allow heterogeneous payments across agents, many real-
world environments impose strong fairness constraints that limit payment dispersion. Motivated by this,
we study equal-pay contracts, where all agents receive identical payments. Our results also extend to
nearly-equal-pay contracts where any two payments are identical up to a constant factor.
We provide both algorithmic and hardness results across a broad hierarchy of reward functions, under
both binary and combinatorial action models. While our focus is on equal-pay contracts, our analysis
also yields new insights into unconstrained contract design and resolves two important open problems in
this regime. On the positive side, we establish polynomial-time constant-factor approximation algorithms
for (i) submodular rewards under combinatorial actions, and (ii) XOS rewards under binary actions. We
further show that these guarantees are tight by establishing the following hardness results: We rule out
the existence of (i) a PTAS for combinatorial actions, even for gross substitutes rewards (unless P = NP),
and (ii) any constant-factor approximation for XOS rewards with combinatorial actions. Crucially, these
hardness results hold even in the absence of any fairness constraints, thereby settling the corresponding
open problems for unconstrained contracts.
Finally, we quantify the loss induced by fairness via the price of equality, defined as the worst-case
ratio between the optimal principal’s utility achievable by unconstrained contracts and that achievable
by equal-pay contracts. We obtain a tight bound of Θ(log n/ log log n) on the price of equality, where n is
the number of agents. This gap is tight in a strong sense: the upper bound applies even for XOS rewards
with combinatorial actions, while the lower bound arises already for additive rewards with binary actions.
This project has been partially funded by the European Research Council (ERC) under the European Union’s Horizon 2020
program (grant agreement No. 866132), by the European Union’s Horizon Europe Program (grant agreement No. 101170373),
by an Amazon Research Award, by the Israel Science Foundation Breakthrough Program (grant No. 2600/24), and by a grant
from TAU Center for AI and Data Science (TAD), and by the NSF-BSF (grant number 2020788).
∗Tel Aviv University and Microsoft ILDC, Israel. Email: mfeldman@tauex.tau.ac.il
†Tel Aviv University, Israel. Email: yoavgaltzur@mail.tau.ac.il
‡Tel Aviv University, Israel. Email: tomaszp@mail.tau.ac.il
§Tel Aviv University, Israel. Email: mayas1@mail.tau.ac.il
1
arXiv:2601.15478v1  [cs.GT]  21 Jan 2026


--- Page 2 ---
1
Introduction
Contracts are performance-based payment schemes designed to incentivize agents to exert costly effort on be-
half of a principal, even when such effort is unobservable. Classic contract theory provides elegant characteri-
zations of optimal contracts [Hol79, GH83]. Modern contracting environments, such as online labor markets,
healthcare systems, and AI delegation, are increasingly implemented on computational platforms, calling
for an algorithmic approach to contract design. Indeed, the field of algorithmic contract design has grown
rapidly in recent years, with a substantial body of work studying computational tractability and approxima-
tion guarantees in complex contracting environments [BFN10, BFNW12, HSV14, DRT19, DFT24, Fel25].
A major focus within algorithmic contract design is the study of contracts in multi-agent combinatorial-
actions models [BFN06a, DEFK21, DEFK23, DEFK25b]. In these settings, a principal incentivizes a team of
agents, where each agent may choose a (possibly empty) set of costly actions. The project’s outcome depends
on the joint collection of actions taken by all agents. This framework can capture rich interdependencies
between actions, such as substitutes and complements, modeled through a combinatorial reward function.
Existing work on this model has predominantly focused on unconstrained contracts, in which the principal
can tailor payments to individual agents. Under this assumption, optimal contracts typically generate large
pay gaps across agents, reflecting differences in costs and marginal contributions to the formed team. In
practice, however, such disparities often conflict with fairness desiderata and with institutional or legal
constraints.
These constraints are especially visible in the public sector, including civil service systems, public edu-
cation, and academia, where compensation is often determined by rigid pay scales tied to rank or seniority.
This leads to identical base salaries for large groups of employees. Importantly, even when performance-based
incentives exist in these environments, they are often implemented symmetrically. For instance, in many
academic systems, faculty members who secure external research grants receive a salary supplement equal
to a fixed fraction of their base salary, and this fraction is set uniformly across all professors.
From the perspective of contract design, these considerations motivate the study of equal-pay contracts,
in which all agents receive the same payments regardless of their characteristics. More broadly, many settings
impose weaker restrictions on wage dispersion, including policies that regulate or penalize excessive pay gaps
[e.g. Hig13]. Such settings can be modeled as nearly-equal-pay contracts, where agents’ payments may differ
only by a bounded multiplicative factor. Together, these considerations make equal-pay and nearly-equal-
pay contracts a natural and economically relevant constraint on the principal’s design space, and form the
basis of our study in this paper.
This perspective gives rise to two fundamental questions:
(1) Can we efficiently compute approximately optimal equal-pay (or nearly-equal-pay) contracts?
(2) How much profit is lost by restricting contracts to be equal-pay relative to unconstrained contracts?
We address both questions within the general multi-agent combinatorial-actions model of [DEFK25b] for
a broad class of reward functions. In addition, we resolve several open problems related to this model, under
unconstrained contracts.
Multi-Agent Combinatorial-Actions Model.
Before presenting our contribution, we describe the
multi-agent combinatorial-actions model of [DEFK25b] in more detail.
In this model, a principal (she)
assigns a binary-outcome project to a set of n agents. The project yields some reward to the principal upon
success (normalized to 1) and 0 otherwise. Each agent i ∈[n] has a set Ti of available actions and may select
any subset Si ⊆Ti. Each action j ∈Ti incurs a non-negative cost cj, and the total cost incurred by agent i
equals P
j∈Si cj. The probability of a project success is given by a set function f, which maps the combined
action profile S = S1 ⊔· · ·⊔Sn to a probability f(S) ∈[0, 1]. Since the principal’s reward is normalized to 1,
f(S) also represents the expected reward generated by S; thus we also refer to f as the reward function. An
important special case, studied in [BFNW12, DEFK23], is the multi-agent binary-action setting, in which
each agent chooses whether to exert effort or shirk, and the outcome depends solely on the set of agents who
exert effort; this setting corresponds to the case where |Ti| = 1.
To provide incentives, the principal commits to a linear contract α = (α1, . . . , αn), where each αi ∈[0, 1]
2


--- Page 3 ---
specifies the fraction of the realized reward paid to agent i in the event of success. Given a contract α,
agent i’s utility under an action profile S is αif(S) −P
j∈Si cj. Any given contract induces a game among
the agents, where an action profile S constitutes a Nash equilibrium if no agent can increase her utility by
unilaterally deviating to a different action set.
The principal’s goal is to induce an equilibrium action profile that maximizes her utility (also known as
profit), defined as the expected reward minus the total expected payments to the agents, namely f(S) ·
 1 −
P
i∈[n] αi

. The task of computing a contract that maximizes the principal’s utility is known as the optimal
contract problem. This problem raises substantial algorithmic challenges, as the principal’s utility depends
on the combinatorial structure of the agents’ action profiles. As is common in the literature, since the reward
function f has exponential representation size, we assume oracle access to f via two query models: value
queries (given S, return f(S)), and demand queries (given a price vector p over actions, return a set S
maximizing f(S) −P
j∈S pj); see Section 2 for details.
1.1
Our Results
In this section, we present our algorithmic results, followed by tight bounds on the loss incurred due to
the restriction to equal-pay contracts. In the algorithmic part, beyond characterizing the computational
landscape of equal-pay contracts, we also resolve two open problems regarding the tractability of optimal
contracts in unconstrained settings. Our results regarding equal-pay contracts are summarized in Table 1a,
and our contributions to the regime of unconstrained contracts (along with previously known results) are
presented in Table 1b.
Notably, we observe that any result for equal-pay contracts extends to γ-equal-pay contracts, where
payments may differ by at most a multiplicative factor γ > 1. In particular, approximation guarantees
degrade gracefully, incurring only an additional factor-γ loss (see Theorem A.2). This observation allows us
to restrict attention to equal-pay contracts for the remainder of the paper.
Algorithms and hardness.
For additive rewards, it is not difficult to show that an optimal equal-pay
contract can be computed in polynomial time (see Theorem E.1). This stands in sharp contrast to the
unconstrained setting, where computing an optimal contract is NP-hard even when agents have binary
actions [DEFK23].
At first glance, this might suggest that restricting attention to equal-pay contracts leads to new tractabil-
ity in regimes previously known to be hard. Our results, however, show that this intuition is misleading:
In all other cases, the computational hardness persists even when the optimal contract itself is an equal-
pay contract. Moreover, positive results from the unconstrained setting do not carry over automatically;
achieving comparable guarantees for equal-pay contracts requires new ideas and techniques.
For submodular rewards, prior work shows that the unconstrained problem admits a polynomial-time
constant-factor approximation, but no PTAS [DEFK25b]. Interestingly, their hardness result applies also to
the equal-pay regime, implying that the best one can hope for in our setting is a constant-factor approxima-
tion. Our next result shows that this guarantee is indeed achievable.
Main Theorem 1 (Constant Approximation for Submodular Rewards; Theorem 3.1). For submodular
reward functions, there exists a polynomial-time algorithm that computes an equal-pay contract achieving a
constant-factor approximation to the optimal equal-pay contract for profit. The algorithm uses demand oracle
access to the reward function. In binary-action settings, value oracles suffice.
As we show below, Main Theorem 1 is tight in two ways: First, one cannot hope for a PTAS for this
problem, even for gross-substitutes (GS) rewards — a strict subclass of submodular functions (see Main
Theorem 2). Second, the constant-factor approximation guarantee for submodular rewards cannot be ex-
tended to XOS rewards — a strict superclass of submodular functions (see Main Theorem 3). Interestingly,
these two impossibility results apply to both equal-pay and unconstrained contracts, thereby resolving two
important open problems in the literature. We next elaborate on these results.
We start with gross substitutes (GS) rewards.
GS functions are a subclass of submodular that has
attracted significant attention in the literature on algorithmic mechanism and contract design (e.g., [Lem17,
3


--- Page 4 ---
DEFK21]). A fundamental open problem in multi-agent settings has been whether GS rewards admit a
PTAS/FPTAS for the optimal contract problem. We resolve this question in the negative, for combinatorial-
action settings. Specifically, we show that even for matroid rank functions — a strict subclass of GS —
the problem admits no PTAS. This inapproximability result holds for both equal-pay and unconstrained
contracts, thereby resolving the open problem for unconstrained contracts.
Main Theorem 2 (No PTAS for Gross Substitutes Rewards; Theorem 4.12). For matroid rank function
rewards, it is NP-hard to compute a 0.7-approximation to the optimal contract. This result holds for both
unconstrained contracts and equal-pay contracts.
Two remarks are in order: First, for GS functions demand and value oracles are essentially equivalent,
thus the above theorem holds under both oracle models. Second, the existence of a PTAS/FPTAS for GS
rewards in the binary actions model remains an open problem.
We next turn to XOS rewards, for which we show that the optimal contract problem admits no constant-
factor approximation. As in the case of GS rewards, this impossibility result holds for both equal-pay and
unconstrained contracts. Consequently, our result resolves another important open problem in multi-agent
contract design, as posed for example in [Fel25].
Main Theorem 3 (No Constant-Factor Approximation for XOS Rewards; Theorem 4.2). For XOS reward
functions, no algorithm that makes a polynomial number of value and demand queries can achieve a constant-
factor approximation to the optimal contract, with or without the equal-pay restriction.
Notably, prior work on unconstrained contract design has given significant attention to the tractability of
the optimal contract problem along two dimensions: binary versus combinatorial actions, and submodular
versus XOS rewards. Constant-factor approximations were established for three of the four resulting cases
— submodular rewards under both action models, and XOS rewards under binary actions (see Table 1b) —
while the case of XOS rewards with combinatorial actions remained open. Our result shows that, unlike the
other cases, this remaining problem is inapproximable.
More broadly, our findings suggest that the equal-pay model, beyond its intrinsic significance as a fairness
constraint, also provides a useful lens for understanding unconstrained contracts. Indeed, all current hardness
results beyond additive rewards (including all previous hardness results [DEFK23, EFS24, DEFK25b], and
the two established here) arise in scenarios where optimal contracts turn out to be equal-pay contracts.
Price of Equality.
We next study the price of equality (PoE), defined as the ratio between the optimal
profit achievable by an unconstrained contract and that achievable by an equal-pay contract.
Our main result here is a tight bound on the PoE for XOS rewards under combinatorial actions. Re-
markably, this bound is tight in a strong sense: no better bound is possible even for additive rewards and
binary actions.
Main Theorem 4 (Price of Equality; Proposition 5.2 and Theorem 5.3). For XOS reward functions and
combinatorial actions, the price of equality is Θ(log n/ log log n).
This bound is tight, even for additive
rewards and binary actions.
We further show that this bound does not extend to the broader class of subadditive rewards.
In
particular, we establish a lower bound of Ω(√n) on the price of equality under subadditive rewards, even in
binary-action settings (see Proposition 5.9).
Beyond Profit Maximization.
[FGPS25, FGPS26] introduce a broader class of objectives, termed BEST
objectives (beyond standard), which include profit, social welfare, and reward maximization, among others.
In Section B we show that some of our results (for profit maximization) carry over to any BEST objective.
Most importantly, for GS rewards with combinatorial actions, both our constant-factor approximation and
our tight bound on the price equality extend to any BEST objective.
4


--- Page 5 ---
Equal-Pay Contracts
Binary Actions
Combinatorial Actions
Additive
P
P (Thm E.1)
Gross Substitutes
O(1)-apx
?
O(1)-apx
No PTAS (Thm 4.12)
Submodular
O(1)-apx
No PTAS [EFS24, DEFK25b]
O(1)-apx (Thm 3.1)
No PTAS
XOS
O(1)-apx (Thm D.1)
No PTAS
No O(1)-apx (Thm 4.2)
Subadditive
No O(1)-apx [DEFK23]
No O(1)-apx
(a) The computational landscape under demand oracle access for equal-pay contracts.
All results for equal-pay
contracts are new, except for the hardness results in the binary-action setting.
Unconstrained Contracts
Binary Actions
Combinatorial Actions
Additive
FPTAS [DEFK23]
NP-hard [DEFK23]
FPTAS [FGPS26]
NP-hard
Gross Substitutes
O(1)-apx
?
O(1)-apx
No PTAS (Thm 4.12) ⋆
Submodular
O(1)-apx
No PTAS [EFS24, DEFK25b]
O(1)-apx [DEFK25b]
No PTAS
XOS
O(1)-apx [DEFK23]
No PTAS
No O(1)-apx (Thm 4.2) ⋆
Subadditive
No O(1)-apx [DEFK23]
No O(1)-apx
(b) The computational landscape under demand oracle access for unconstrained contracts. The cells marked with
the red star (⋆) denote our new contributions to the literature on unconstrained contract design.
Table 1: A summary of algorithmic and hardness results for equal-pay and unconstrained contracts. In both
tables, any positive result immediately extends to all cells to its north and west, while any negative result
propagates to all cells to its south and east. Colors indicate the tractability spectrum, ranging from green
(tractable) through yellow (intermediate) to red (intractable); white indicates remaining open problems.
1.2
Our Techniques
Before presenting our techniques, we emphasize a fundamental challenge in multi-agent settings with com-
binatorial actions, which we describe as demand queries being agent-agnostic. We then explain how our
positive results overcome the difficulties imposed by this property, and how we leverage it to construct hard
instances of the problem.
Demand Queries Are Agent-Agnostic.
A demand query takes as input a price vector p that assigns
a price pj to each action j, and returns a set of actions S ⊆T that maximizes f(S) −P
j∈S pj. A central
challenge in applying demand queries in the multi-agent combinatorial-actions setting is that they are in-
herently agent-agnostic: they ignore the ownership structure of actions. In particular, a demand query does
not depend on which actions are controlled by the same agent, and treats all actions as independent items.
This limitation is illustrated by the following example. Consider two agents A = {1, 2}, each controlling
two actions, with T1 = {1, 2} and T2 = {3, 4}. The costs of actions are c1 = 1/8 −ϵ, c2 = 1/8, c3 = 1/8,
and c4 = 1/8 + ϵ. The success probability is additive, given by f(S) = (1/4) · |S|. The optimal contract is
α = (1/2, 0), which induces the action profile S = {1, 2}. Under this contract, agent 1 takes both of her
5


--- Page 6 ---
actions, yielding a principal’s utility of uP = (1 −1/2) · (1/2) = 1/4.
By contrast, even though actions 2 and 3 are identical from the perspective of the reward function f
and incur identical costs, the action profile S′ = {1, 3} can only be incentivized with the contract α′ =
(1/2 −4ϵ, 1/2), which yields a negligible utility to the principal.
Thus, the optimal contract crucially
depends on the ownership of actions, a distinction that agent-agnostic demand queries cannot capture without
explicitly encoding ownership information in the price vector.
We next present our techniques for the main results.
Constant-Approximation for Submodular Rewards, for Equal-Pay Contract (Theorem 1).
Equal-pay contracts are defined by two parameters: a per-agent payment t ∈R≥0, and a subset of agents
who receive this payment, with all remaining agents receiving zero. Our algorithm proceeds by “guessing"
the optimal value of t, reducing the problem to identifying an action set that is both (i) rewarding — one
with a high value of f, and (ii) agent-sparse — involving only a small number of agents, so as to keep total
payments low. A standard approach is to design prices such that demand queries find such a rewarding
action set. However, since demand queries are inherently agent-agnostic (see the discussion above), there is
no guarantee that the resulting set will be agent-sparse.
To overcome this issue, we optimize over a surrogate function f ′, defined as a regularized version of f that
penalizes action sets involving many agents. If we had demand query access to f ′, then with appropriately
chosen prices such a query would return an action set that is both rewarding and agent-sparse. Unfortu-
nately, our oracle access is limited to demand queries for the original function f. We therefore resort to
an approximate demand query, which can be computed for submodular functions using value queries alone
[HFWK19]. This approach is applicable since we ensure that f ′ remains submodular, and that f ′(S) can be
easily computed given f(S), for any set of actions S. Finally, having found such a desirable action set, we
utilize machinery adapted from [DEFK25b] to turn it into an equal-pay contract with similar guarantees.
Hardness of Approximation for XOS Rewards, for Equal-Pay and Unconstrained Contracts
(Main Theorem 3).
As in the case of submodular rewards, a demand query to f, even with carefully
chosen prices, cannot guarantee an action set that is both rewarding and agent-sparse.
Unfortunately,
the approach used for submodular rewards, namely, optimizing a surrogate submodular objective, does
not extend to the XOS case, since demand queries for XOS functions cannot be approximated using only
polynomially many value queries.
Indeed, we show that the agent-agnostic nature of demand queries leads to an inapproximability of the
optimal contract within any constant factor. Fix a hardness parameter ℓ∈N, and an instance with ℓ7 agents,
each with ℓ3 actions. We construct a family of reward functions parametrized by a subset of agents G of size
ℓ2. For each action set S, the reward function is defined as the maximum of three terms: (i) the number of
agents that perform at least one action in S, (ii) the number of actions taken by the agents in G, divided
by ℓ, and (iii) the constant ℓ3. The intuition behind this construction is that agents in G are “special”: if
sufficiently many of them are incentivized to take many actions, term (ii) yields a large reward. However,
because demand queries are agent-agnostic, they typically return solutions that maximize term (i), namely
involving many agents each taking only one action, rather than concentrating effort on the agents in G.
Action costs are chosen so that at most O(ℓ3) agents can be incentivized simultaneously. As a result, the
only way to obtain an o(ℓ)-approximation to the optimal reward is to incentivize sufficiently many agents in
G to perform all their actions. In particular, any such approximation requires (roughly) identifying G.
However, terms (i) and (iii) in the reward function “obfuscate” the identity of the special set G: We
show that if a price vector p reveals information about G (i.e., if the value of its demand set is achieved by
term (ii)), then the total number of agents that have a cheap action (with price at most 1/ℓ) must be small
(at most 2ℓ4), while the number of agents in G with a cheap action must be at least ℓ. Since G is chosen
uniformly at random, the probability that a demand query is informative is exponentially small in ℓ= n1/7.
The inapproximability result then follows from applying Yao’s principle.
6


--- Page 7 ---
No PTAS for GS Rewards, for Equal-Pay and Unconstrained Contracts (Main Theorem 2).
Our result builds on the hardness result of [EFS24], which proves that there is no PTAS in the multi-agent
binary-action model, where the reward function is a coverage function defined over sets of agents. We exploit
the richness of the multi-agent combinatorial-action model to turn the coverage structure over agents into
a matroid structure over actions, while maintaining the binary behavior of agents. To this end, given a
matroid-rank function f, we assign costs to actions such that agents exhibit a binary behavior relative to a
payment threshold t: an agent performs all actions with positive marginal contribution if his payment is at
least t, and shirks (i.e., performs no actions) otherwise.
Notably, the hardness in [EFS24] applies when only value-query access is given, whereas our result holds
under both value and demand queries, since they are essentially equivalent for matroid rank functions (as a
subclass of GS).
Price of Equality (Main Theorem 4).
In the proof, we bound the loss incurred by restricting attention
to equal-pay contracts, relative to an optimal unconstrained contract α⋆.
We first rename the agents such that α⋆
1 ≥α⋆
2 ≥· · · ≥α⋆
n. If α⋆
1 > 1/2 and incentivizing agent 1 alone
in α⋆gives sufficiently high utility, then we form a contract that only incentivizes agent 1. Otherwise, we
decompose all agents with α⋆
i ≤1/2 into buckets, as follows: We group all agents i such that α⋆
i ≤
1
2n into
a single bucket, and partition the remaining (middle) agents greedily, adding agents to a bucket as long as
the total payment does not exceed 1/2 (see Figure 2 for an illustration).
Using the scaling-for-existence lemma from [DEFK25a], we show that, for each of these buckets, we can
compute an equal-pay contract whose reward is at least a constant fraction of the bucket’s reward in the
original equilibrium under α⋆. Additionally, the total payment of this equal-pay contract is at most 2/3,
implying that the principal’s utility is at least 1/3 of the bucket’s reward. Finally, using the arithmetic-
geometric (AM–GM) inequality alongside additional properties, we show that our bucketing procedure results
in at most O(log n/ log log n) buckets. Thus, by the subadditivity of f, taking the highest-reward bucket
yields the desired O(log n/ log log n)-approximation guarantee.
1.3
Related Work
Combinatorial Team Contracts.
A combinatorial model for contracting a team of agents was introduced
in [BFN06a, BFNW12], where each agent can either work or shirk, and the principal’s reward for a subset of
working agents is given by a Boolean function f. Follow-up works introduce mixed strategies to the model
[BFN06b], and analyzed free-riding [BFN09].
The work of [DEFK23] generalized this model by allowing f to be any monotone set function, while
focusing on the complements-free hierarchy of [LLN06]. For XOS f, they give a poly-time algorithm that
achieves a constant-factor approximation to the optimal contract with demand oracle access. For submodular
f they show that value queries are sufficient to achieve the same guarantees. Subsequent works considered
the same model with additional budget constraints, and objectives beyond the principal’s utility (profit)
[AHT25, FGPS25]. In particular, [FGPS25] have introduced the class of BEST objectives, (which includes,
among other objectives, profit, reward, and social welfare), and showed that any function from this class can
be reduced to the unbudgeted profit maximization problem of [DEFK23], while only losing a constant factor
to the approximation. [ACC+25] considered a multi-project setting, where each project corresponds to a
multi-agent binary-action instance as in [DEFK23], and any agent can participate in at most a single project.
For XOS f, they provide an efficient approximation algorithm for the optimal contract and allocation that
achieves a constant-factor approximation, given access to a demand oracle.
Going beyond binary-actions, [DEFK25b] introduced a model in which any agent can perform any subset
of an individual collection of actions. This generalizes the binary-action model of [DEFK23], where each agent
has one individual action. For submodular f, they show how to achieve a constant-factor approximation to
the optimal contract in poly-time with demand queries, and that no PTAS exists in this setting, even for
binary actions. [FGPS26] have shown that introducing budgets to this setting changes the computational
landscape: when f is submodular, exponentially-many demand queries are required to achieve any finite
7


--- Page 8 ---
approximation, but a constant-factor approximation is achievable when f is GS. [DEFK25a] examined more
general equilibrium notions than pure Nash equilibrium (PNE), the most permissive being coarse correlated
equilibrium (CCE). They consider profit maximization and show that, under XOS f, there exists a PNE
that only loses a constant-factor compared to the best CCE. For submodular f, they show how to extend
guarantees made for a specific PNE to all CCEs of a contract, exemplifying the robustness of PNEs.
Other Combinatorial Models.
A contracting model in which a single agent can perform any subset of
n actions was introduced by [DEFK21]. They showed that for gross substitutes f, the optimal contract can
be computed in poly-time with value queries, while it is NP-hard to do so when f is submodular. A series of
follow-up works studied the tractability frontier of this problem [DFG24, DDPP24, DFGR26, FY25, EFS24].
The work of [EFS26] studied a single agent which makes sequential, rather than simultaneous, actions and
observe intermediate outcomes. Combinatorial inspection was introduced by [ELR26], where the agent takes
a single action and the principal recommends an action and picks a set of actions to inspect. The principal
withholds payment if the agent caught not performing the recommended actions, and pays the cost of
inspection, given by a combinatorial function.
Linear Contracts.
An important class of contracts is linear contracts, in which the agent’s payment is a
fixed fraction of the principal’s realized reward. In the case of binary outcomes, as considered in this work,
the optimal contract is linear. Moreover, linear contracts exhibit robustness under uncertainty, formalized
via the max-min optimality criterion. This robustness is established by [Car15] under uncertainty about
the feasible action set, and by [DRT19] under uncertainty about the outcome distribution; the former is
extended to randomized contracts in [PT24].
A separate line of work considers settings in which the principal may strategically introduce ambiguity
to increase her profit. In this context, [DFPS24, DFR25] show that linear contracts are ambiguity-proof:
they are robust to such manipulations and cannot be improved by deliberately adding ambiguity.
Fair Contracts.
A recent line of work has considered fairness in contract design.
[CCL25b] consider
the multi-project model of [ACC+25], but required that the allocation and contract are envy-free. They
prove that achieving a constant factor approximation to the optimal envy-free contract and allocation is NP-
hard, and show positive results when the number of projects is a constant. They also consider well-known
relaxations of envy-freeness such as ε-EF and EF1.
Closer to our setting, in an independent and concurrent work, [CCL25c] consider the multi-agent binary-
action model of [DEFK23] with submodular rewards and study envy-free contracts; agent i envies agent j if
swapping their contracts leads to a new equilibrium in which i is strictly better-off. Clearly, equal-pay con-
tracts are envy-free in the above sense, and it is shown that the best equal-pay contract yields constant-factor
approximation to the optimal envy-free contract. Thus, to approximate the optimal envy-free contract, they
give a poly-time algorithm that computes an O(1)-approximation to the optimal equal-pay contract, using
value and demand queries. In comparison, for this setting our algorithm also achieves an O(1)-approximation,
but relies only on value queries. Moreover, we obtain constant-factor approximation guarantees for more
general settings, including XOS rewards with binary actions (Theorem D.1), and submodular rewards with
combinatorial actions (Main Theorem 1).
Other Contractual Models.
Non-combinatorial multi-agent settings with agent externalities are studied
in [Seg99, Seg03, BW12]. More recently, [CBCG24, CMG23] have studied multi-agent contracts beyond
binary outcomes. Contracts where agents have private types are studied in [ADT21, ADLT23, CCL+25a,
CMG21, GSWZ23, GSW21, CMG22]. Several recent works explore the intersection of contracts and learning
[ZBY+23, CDK23, HSV14, BCMG24, CCDH24, DFPS25, Høg26].
8


--- Page 9 ---
2
Model and Preliminaries
In this section, we review the multi-agent combinatorial-actions model introduced in [DEFK25b] (see Sec-
tion 2.1), and present several useful lemmas (see Section 2.2).
2.1
The Multi-Agent Combinatorial-Actions Setting
We study a contractual environment consisting of a single principal and a finite set A = [n] of n agents. The
principal owns a project whose outcome is binary: it either succeeds or fails. A successful outcome yields a
payoff of 1 to the principal, while failure yields 0. The probability of success depends on the agents’ (costly)
actions, as detailed below. The principal does not observe the agents’ actions, only the realized outcome,
and can condition payments upon it.
To incentivize the agents, the principal offers each agent i ∈A a linear contract αi ∈[0, 1], which specifies
the payment made to agent i upon project success; no payment is made if the project fails. We denote the
contract offered to all agents with α ∈[0, 1]A. Importantly, considering only linear contracts is without loss
of generality in this binary-outcome model.1
Each agent i ∈A is associated with a set of available actions Ti, from which the agent may select any
subset. The special case Ti = {j} corresponds to the binary-action model studied in [DEFK23, FGPS25], as
the agent may choose either j or ∅. We assume that action sets are disjoint across agents, that is, Ti ∩Ti′ = ∅
for all i ̸= i′. Each action j ∈Ti incurs a nonnegative cost cj ≥0, and costs are additive: for any Si ⊆Ti,
we define c(Si) = P
j∈Si cj, with c(∅) = 0. Let T = F
i∈A Ti denote the disjoint union of all actions.
For any action profile S ⊆T, we write Si = S∩Ti for the actions chosen by agent i, and S−i = F
i′∈A\{i} Si′
for the actions selected by all other agents.
The project’s success probability is determined by a monotone set function f : 2T →[0, 1], which maps
each action profile S = F
i∈A Si to the probability that the project succeeds. Since the principal’s payoff
upon success is normalized to 1, f(S) also represents her expected reward, and we refer to f as the reward
function. We assume f(∅) = 0.
An instance of the multi-agent combinatorial-actions model is given by a tuple ⟨A, {Ti}i∈A, f, c⟩, where A
is the set of agents, {Ti}i∈A are the agents’ action sets, f is the success probability function, and c = {cj}j∈T
specifies action costs.
Utilities and Equilibrium.
Given a contract α and an action profile S = (S1, . . . , Sn), agent i’s expected
utility is
ui(α, S) = αi · f(Si ⊔S−i) −c(Si),
namely, it is the expected payment minus the incurred cost. We say that α induces an action profile S if S
constitutes a (pure) Nash equilibrium under α. That is, for every agent i ∈A and every alternative choice
S′
i ⊆Ti,
αi · f(Si ⊔S−i) −c(Si) ≥αi · f(S′
i ⊔S−i) −c(S′
i).
It follows from [DEFK25b] that every contract α admits at least one pure Nash equilibrium. A contract
may generally support multiple equilibria; we denote the set of all equilibria induced by α by NE(α).
For a contract α and an equilibrium S ∈NE(α), the principal’s utility (or profit) is defined as the
expected reward minus payments:
uP (α, S) =
 
1 −
X
i∈A
αi
!
f(S).
We next define the notion of an equal-pay contract.
1Equivalently, one may view the model as a multi-outcome project in which the principal observes only the realized reward
and is restricted to linear payment schemes.
9


--- Page 10 ---
Definition 2.1 (Equal-Pay Contract). A contract α is an equal-pay contract if αi = αj for any two agents
i, j with non-zero payments.
For a scalar t ∈[0, 1] and a subset of agents G ⊆A, we denote by αeq (t, G) the equal-pay contract which
pays t to every agent i ∈G, and zero to all others.
Notation.
We find it useful to introduce the following notation. Given an action profile S and a set of
agents G, let S|G denote the action profile Si for each agent i ∈G, and the empty action set for any agent
i /∈G. We also define A(S) = {i ∈A | Si ̸= ∅}. Observe that S|A(S) = S. Similarly, for a contract α and a
set of agents G, we write α|G for the projection of α onto G, defined by α|G = α · 1[i ∈G]. When G = {i}
is a singleton, we often omit the brackets and write α|i.
Reward Functions and Access Oracles.
Throughout this paper, we restrict attention to monotone
reward functions f. For sets S, S′, we write f(S′ | S) to denote the marginal gain of adding S′ to S, defined
as f(S′ | S) = f(S′ ∪S)−f(S). We also use the following notation to denote marginal contribution of action
i to a set S (which may include i): fS(i) = f(i | S \ {i}).
We focus on reward functions drawn from one of the following families.
• Additive: f(S) = P
a∈S f({a}) for any S ⊆T.
• Matroid Rank: For any set S ⊆T, f(S) is the rank of the set S with respect to some matroid
M = (T, I) over the ground set T. Namely, f(S) is the cardinality of the largest independent set in S.
• Gross-Substitutes (GS): For any two price vectors p, q ∈R|T |, such that p ≤q coordinate-wise, and
any S⋆∈arg maxS⊆T {f(S) −P
a∈S pa}, there exists a demand bundle with respect to q, i.e., S′ ∈
arg maxS⊆T {f(S) −P
a∈S qa}, such that S⋆∩{j | pj = qj} ⊆S′.
• Coverage: There exists a universe U, a weight function w : U →R+, and a mapping h : T →2U such
that f(S) = P
u∈h(S) w(u), where h(S) = S
i∈S h({i}).
• Submodular: For any S′ ⊆S ⊆T and any a /∈S, it holds that f(a | S′) ≥f(a | S).
• XOS: There is a finite collection of additive functions L such that for any S ⊆T, f(S) = maxℓ∈L ℓ(S).
• Subadditive: For any S′, S ⊆T, it holds that f(S) + f(S′) ≥f(S ∪S′).
It is well-known that, additive ⊊gross-substitutes ⊊submodular ⊊subadditive [LLN06]. Matroid rank
functions are a strict subclass of GS, and coverage is a strict subclass of submodular functions, incomparable
to GS. As f may have an exponential representation in n (and |T|) we assume algorithms access f via two
standard models:
• Value oracle: accepts a set S ⊆T and returns f(S).
• Demand oracle: accepts a vector p ∈R|T | and returns S⋆∈arg maxS⊆T {f(S) −P
a∈S pa}.
Generally, demand oracles are strictly stronger than value oracles [BN05]. However, for gross-substitutes f
a demand query can be computed in poly-time with value oracle access [Pae17].
2.2
Toolbox
In this section we provide several lemmas which we utilize throughout this work.
10


--- Page 11 ---
Subset Stability and the Doubling Lemma.
Two key concepts in our analysis are subset stability and
the doubling lemma. Subset stability weakens the standard Nash equilibrium requirement: an action profile
S = F
i∈A Si is said to be subset-stable under a contract α if no agent i ∈A can strictly improve her utility
by switching to a subset of her chosen actions Si.
Definition 2.2 (Subset Stability, Definition 3.2 of [DEFK25b]). A set of actions S is subset-stable with
respect to contract α, if for every agent i, every subset of his actions S′
i ⊆Si satisfies
αi · f(Si ⊔S−i) −c(Si) ≥αi · f(S′
i ⊔S−i) −c(S′
i).
The doubling lemma, introduced in [DEFK25b], shows that any subset-stable action profile S under a
contract α can be leveraged to induce a Nash equilibrium whose expected reward is at least half that of
S. We present a closely related variant tailored to our equal-pay setting. The proof of the following lemma
closely follows the original argument and is therefore deferred to Appendix F.1.
Lemma 2.3 (Modified Doubling Lemma). Suppose f is submodular. Let S be a subset-stable action set with
respect to a contract α, such that Si = ∅for all i with αi = 0. Then any equilibrium S† with respect to 2α
fulfills f(S†) ≥1
2f(S).
When f is submodular, restricted contracts maintain subset stability.
Lemma 2.4 ([DEFK25b]). Let ⟨A, {Ti}i∈A, f, c⟩be an instance with submodular f. Let S = F
i∈A Si be a
subset-stable profile of actions with respect to contract α. For any subset of agents G ⊆A, it holds that S|G
is subset stable with respect to the contract α|G.
Dropout Stability and the Scaling-for-Existence Lemma.
We next introduce the notion of dropout
stability and the scaling-for-existence lemma.
Definition 2.5 (Dropout Stability [DEFK25a]). A profile of actions S is dropout stable with respect to α if
for every agent i, under αi, Si is a better response than shirking. Namely, αif(Si ∪S−i)−c(Si) ≥αif(S−i).
Lemma 2.6 (Scaling-for-Existence Lemma [DEFK25a]). Let f be any XOS function. For any contract α,
and any dropout stable profile S with respect to α. For any γ > 1, and any A′ ⊆A there exists an equilibrium
S′ ∈NE(α′) such that f(S′) ≥(1 −1/γ)f(S|A′), where α′ = γ · α|A′. Moreover, S′ can be computed via a
demand query to f with prices pj = cj/α′
i for any j ∈Ti, where 0/0 = 0 and c/0 = ∞for c > 0.
Lastly, we also utilize this useful lemma, due to [DEFK23].
Lemma 2.7 ([DEFK23]). For any XOS function f, and any sets S ⊆T, it holds that P
i∈S fT (i) ≤f(S).
3
Constant-Approximation of the Optimal Equal-Pay Contract
In this section we show an efficient constant-factor approximation algorithm to the optimal equal-pay con-
tract.
Theorem 3.1. When f is submodular, there exists a poly-time algorithm which computes a constant-factor
approximation to the optimal equal-pay contract.
To achieve this result we utilize the reduction of [DEFK25b], which implies that a constant-factor ap-
proximation to the optimal contract can be achieved by a contract-equilibrium pair in which either no agent
is large, or only one agent is paid (see statement below). We observe that this reduction preserves equal-pay,
and thus considering these two cases suffices when approximating the optimal equal-pay contract.
Theorem 3.2 (Reduction to no agent is large / single agent (equal-pay), [DEFK25b]). Consider any
submodular success probability function f.
Let α⋆be any equal-pay contract and S⋆be an equilibrium
of α⋆. For any 0 ≤ϕ ≤1, there exists an equal-pay contract α′ and an equilibrium S′ of α′ fulfilling
(1 −P
i α′
i)f(S′) ≥
ϕ
1120 · (1 −P
i α⋆
i )f(S⋆) and
11


--- Page 12 ---
Algorithm 1: An O(1)-approximation for the optimal equal-pay contract under small agents
Input: A partition of actions [m] = T1 ⊎· · · ⊎Tn, costs c1, . . . , cm ≥0, and value oracle access to a
submodular set function f : 2[m] →R≥0
Output: A contract α ...
1 for k ←8, 9, . . . , n do
2
pj ←cjk
2
for all j ∈[m];
3
Define f ′ : 2T →R≥0 by f ′(S) = f(S) · min

1,
k
|A(S)|

, where A(S) = {i ∈A | Ti ∩S ̸= ∅};
4
Let Q ⊆T be a set such that f ′(Q) −P
j∈Q pj ≥maxS⊆T (1 −1/e)f ′(S) −P
j∈S pj;
5
if |A(Q)| ≤k/8 then
6
Sk ←Q, αk ←αeq ((4/k), A(Q));
7
else
8
A(V ) ←∅; V ←∅;
9
for ℓ←1, . . . , ⌊k/8⌋do
10
i⋆←arg maxi∈A f(V ∪Qi);
11
A(V ) ←A(V ) ∪{i⋆}, V ←V ∪Qi⋆;
12
Sk ←V, αk ←αeq ((4/k), A(V ))
13 k⋆←arg maxk∈8,...,n f(Sk);
14 return αk⋆;
1. (no large agent) f(S′
i) ≤ϕf(S′) for all i ∈A, or
2. (single agent) α′
i = 0 and Si = ∅for all but one i ∈A.
We also utilize the FPTAS of [DEFK25b] for single-agent contracts:
Theorem 3.3 ([DEFK25b]). There exists an FPTAS for the single-agent contract design problem with
general f and demand oracle access.
Observe that, by combining Theorem 3.2 and Theorem 3.3, to prove Theorem 3.1 it suffices to show the
following
Theorem 3.4. When f is submodular, Algorithm 1 runs in polynomial time with value oracle access to f,
and returns an equal-pay contract α such that in any equilibrium, the principal’s utility is at least Λ with the
following guarantee. For any equal-pay contract α⋆and any equilibrium S⋆of α⋆such that f(S⋆
i ) ≤
1
16f(S⋆)
for all i ∈A, it holds that
Λ ≥Ω(1)
 
1 −
X
i∈A
α⋆
i
!
f(S⋆).
Remark 3.5. In the case of binary actions and submodular f, the single-agent problem is tractable with
just value queries. This obviates the need for Theorem 3.3, and implies that, in this setting, the guarantees
of Theorem 3.1 hold using value queries alone.
The proof of Theorem 3.4 relies on two key lemmas. The first establishes a performance guarantee on
the reward achieved by Algorithm 1.
Lemma 3.6. Consider the sequence S8, . . . Sn generated by Algorithm 1. When f is submodular, for any
equal-pay contract α⋆such that P
i∈A α⋆
i ≤1 and any equilibrium S⋆of α⋆such that f(S⋆
i ) ≤
1
16f(S⋆) for
all i ∈A, there exists k such that
f(Sk) ≥1 −1/e
32
1
2 −1
e

f(S⋆)
12


--- Page 13 ---
Proof. Let α⋆be an equal-pay contract and S⋆be an equilibrium of α⋆such that f(S⋆
i ) ≤
1
16f(S⋆).
Denoting A0 = {i ∈A(S⋆) | α⋆
i = 0} and A1 = A(S⋆) \ A0, we have, by subadditivity, either f(S⋆
A0) ≥
f(S⋆)
2
, or f(S⋆
A1) ≥f(S⋆)
2
, denote the set which satisfies this by B. Observe that S⋆
B is subset-stable w.r.t.
the equal-pay contract αeq ((1/|B|), B). Indeed, if B = A0, this trivially holds since all actions in S⋆
B have
cost 0. If B = A1, then, by Lemma 2.4, S⋆
B is subset-stable with respect to the contract α⋆, which has |B|
equal positive entries, yielding α⋆
i ≤
1
|B|; and increasing the αis maintains subset stability. Furthermore, for
any i ∈B it holds that f(S⋆
i ) ≤
1
16f(S⋆) ≤1
8f(S⋆
B), and thus, by subadditivity |B| ≥8, implying that, in
some iteration it holds that k = |B|. Consider the set Q ⊆T, the vector p ∈Rm
≥0, and the function f ′ in
that iteration. It holds that
f(Q) ≥f ′(Q) ≥f ′(Q) −
X
j∈Q
pj
≥(1 −1/e)f ′(S⋆
B) −
X
j∈S⋆
B
cjk
2
(since Q is an “approximate” demand bundle)
= (1 −1/e)f(S⋆
B) −
X
j∈S⋆
B
cjk
2
(by definition of f ′ and k = |B|)
≥(1 −1/e)f(S⋆
B) −
X
j∈S⋆
B
1
2fS⋆
B(j)
(since S⋆
B is subset-stable w.r.t αeq ((1/k), B))
≥
1
2 −1
e

f(S⋆
B)
(Lemma 2.7)
≥1
2
1
2 −1
e

f(S⋆)
(1)
Thus, if Sk is determined in Line 6, then f(Sk) = f(Q) ≥1
2
  1
2 −1
e

f(S⋆), as needed.
Otherwise, observe that lines 8-11 are essentially a greedy maximization of the submodular function
g(A(V )) = f(Q|A(V )). Thus, by [NWF78],
g(A(V )) ≥(1 −(1 −1/e)|A(V )|/|A(Q)|)f(Q|A(Q)) = (1 −(1 −1/e)|A(V )|/|A(Q)|)f(Q).
We get:
f(Sk) = f(V ) = f(Q|A(V )) = g(A(V )) ≥(1 −(1 −1/e)|A(V )|/|A(Q)|)f(Q) ≥(1 −1/e)|A(V )|
|A(Q)|f(Q).
(2)
If A(Q) ≤k, then
f(Sk) ≥(1 −1/e)|A(V )|
|A(Q)|f(Q) ≥(1 −1/e)⌊k/8⌋
k
f(Q) ≥1 −1/e
32
1
2 −1
e

f(S⋆),
as needed. Otherwise, recall that Equation (1) shows f ′(Q) ≥1
2
  1
2 −1
e

f(S⋆), Thus, if A(Q) > k, then by
definition of f ′,
f(Q) = |A(Q)|
k
f ′(Q) ≥|A(Q)|
k
1
2
1
2 −1
e

f(S⋆),
which, together with Equation (2), yields
f(Sk) ≥(1 −1/e)|A(V )|
|A(Q)|f(Q) ≥(1 −1/e)|A(V )|
|A(Q)|
|A(Q)|
k
1
2
1
2 −1
e

f(S⋆) = (1 −1/e)⌊k/8⌋
k
1
2
1
2 −1
e

f(S⋆)
≥1 −1/e
32
1
2 −1
e

f(S⋆),
as needed.
13


--- Page 14 ---
The next lemma shows that the principal’s utility from the contract returned by Algorithm 1 is at least
a constant fraction of the reward.
Lemma 3.7. Consider the sequences α8, . . . , αn and S8, . . . , Sn generated by Algorithm 1.
When f is
submodular, for every k ∈{8, . . . , n}, for every equilibrium S of αk it holds that
 
1 −
X
i∈A
αk
i
!
f(S) ≥1
4f(Sk)
Proof. Let k ∈{8, . . . , n}. Recall the set profile of actions Q, which is the “approximate” demand bundle
computed in Algorithm 1. First, observe that it is without loss of generality to assume that f ′
Q(j) ≥pj for
any action j ∈Q. Otherwise, we can remove such j from Q, and improve its guarantee.
Let β = αeq ((2/k), A(Q)) be the equal-pay contract which pays (2/k) to the agents in A(Q), and zero
to others. We claim that Q is subset-stable with respect to β. Fix i ∈A(Q), and let Q′
i ⊆Qi. We show
that under the contract β, the agent’s utility when performing Qi is at least as high as when performing Q′
i.
Indeed,
βif(Qi, Q−i) −c(Qi) −(βif(Q′
i, Q−i) −c(Q′
i))
= 2
k (f(Qi, Q−i) −f(Q′
i, Q−i)) −c(Qi \ Q′
i)
≥2
k
X
j∈Qi\Q′
i
f(j | Q \ {j}) −
X
j∈Qi\Q′
i
cj
(by submodularity of f)
=
X
j∈Qi\Q′
i
2
k f(j | Q \ {j}) −cj
≥
X
j∈Qi\Q′
i
0,
where the last inequality follows by the fact that for every j ∈Qi \ Q′
i, f(j | Q \ {j}) ≥pj = k·cj
2 .
If Algorithm 1 determines αk in Line 6, αk = 2β and Sk = Q. Thus, since Q is subset-stable with respect
to the contract β, by Lemma 2.3 we have that for every equilibrium S of αk, f(S) ≥1
2f(Q) = 1
2f(Sk).
Otherwise, αk = αeq ((4/k), A(V )), where V ⊆Q is constructed in the for-loop in lines 8-10 of the
algorithm. Since V is exactly the actions taken by agents A(V ) in the profile Q, Lemma 2.4 implies that V is
subset stable with respect to αeq ((2/k), A(V )). By Lemma 2.3 every equilibrium S of αk, f(S) ≥1
2f(V ) =
1
2f(Sk). Finally, observe that it always holds that |A(Sk)| ≤⌊k
8⌋. Thus, the total payment of the equal-pay
contract αk is at most 1/2: P
i∈A αk
i = 4
k|A(Sk)| ≤1
2. Putting everything together, we get
 
1 −
X
i∈A
αk
i
!
f(S) ≥1
2 · 1
2 · f(Sk) = 1
4f(Sk),
as needed.
The proof of Theorem 3.4 follows easily from the two lemmas above, as follows.
Proof of Theorem 3.4. Let α⋆be an equal-pay contract such that P
i∈A α⋆
i ≤1 and let S⋆be an equilibrium
of α⋆such that f(S⋆
i ) ≤
1
16f(S⋆) for all i ∈A.
By Lemma 3.6, there exists some k ∈{8, . . . , n} such that f(Sk) ≥1−1/e
32
  1
2 −1
e

f(S⋆), and in particular
f(Sk⋆) ≥1−1/e
32
  1
2 −1
e

f(S⋆). By Lemma 3.7, for every equilibrium S of αk⋆we have
 
1 −
X
i∈A
αk⋆
i
!
f(S) ≥1
4f(Sk⋆) ≥1
4 · 1 −1/e
32
1
2 −1
e

f(S⋆) ≥1 −1/e
128
1
2 −1
e
  
1 −
X
i∈A
α⋆
i
!
f(S⋆),
14


--- Page 15 ---
as needed.
Remark 3.8. When the reward function f is gross-substitutes, the constant-factor approximation can be
extended to any BEST objective (see Definition B.2), including reward and social welfare. This result fol-
lows from the reduction between BEST objectives presented in [FGPS26], which, together with our modified
doubling lemma (Lemma 2.3), can be adjusted to preserve equal-pay.
4
Hardness for Equal-Pay and Unconstrained Contracts
In this section, we establish hardness results for both equal-pay contracts and unconstrained contracts. We
begin with a simple observation that provides a general framework for proving hardness results for equal-pay
and general contracts simultaneously.
Observation 4.1. Fix an approximation guarantee K : N →[0, ∞). Let C be a class of instances such
that, for every instance I ∈C, the maximum principal’s utility over all unconstrained contracts is attained
by an equal-pay contract. If there exists a polynomial-time algorithm that achieves a K(n)-approximation
to the optimal equal-pay contract or γ-equal-pay for all instances in C, then the same algorithm achieves a
K(n)-approximation over unconstrained contracts for all instances in C.
This observation implies that if one establishes hardness for computing optimal unconstrained contracts,
and the instances used in the hardness construction admit optimal contracts that are equal-pay, then the
same hardness result immediately applies to equal-pay contracts. Notably, three hardness results from prior
work have this structure:
(i) There is no constant-factor approximation algorithm for subadditive f with binary actions that uses
polynomially many value and demand queries [DEFK23, Theorem 4.1].
(ii) There is no PTAS for submodular f with binary actions that uses polynomially many value and demand
queries [DEFK25b, Theorem 6.1].
(iii) There is no constant-factor approximation algorithm for XOS f with binary actions that uses polyno-
mially many value queries [EFS24, Theorem 5.1].
The three results above therefore imply hardness for equal-pay contracts via Observation 4.1.
In this section, we prove two new hardness results for unconstrained contracts:
(1) There is no constant-factor approximation for XOS f with combinatorial actions that uses polynomially
many value and demand queries (Section 4.1).
(2) Unless P = NP, there is no PTAS for gross substitutes f with combinatorial actions that uses value
and demand queries (Section 4.2).
In both cases, the constructions satisfy the conditions of Observation 4.1, and hence each result also implies
the corresponding hardness for equal-pay contracts.
4.1
No Constant-Factor Approximation for XOS
In this section, we show that when f is XOS, no polynomial-time constant-factor approximation is achievable.
Theorem 4.2. When f is XOS, any (possibly randomized) algorithm that makes only polynomially many
demand queries achieves an (expected) approximation ratio of at least Ω(n1/7) to the optimal profit over
unconstrained contracts. Moreover, the same lower bound applies to equal-pay contracts.
Our result is information-theoretic: We construct an instance with a probability distribution over XOS
reward functions and establish an upper bound on the performance of any deterministic algorithm with
demand oracle access on this randomized input. By Yao’s principle, this directly implies the statement of
the theorem. We next describe the distribution over instances.
Fix an integer parameter ℓ≥5. We construct a family of instances I(G) = ⟨A, {Ti}i∈A, f (G), c⟩indexed
by subsets G ⊆A with |G| = ℓ2. The agent set is A = {1, 2, . . . , n}, where n = ℓ7. Each agent i ∈A has
15


--- Page 16 ---
|A| = ℓ7
|G| = ℓ2
|L(p)| ≤2ℓ4
≥ℓ
Figure 1: Illustration of the definition of informative demand queries. The large rectangle represents the set
of all agents, and the dashed circle represents the hidden subset of agents G. The smaller rectangle depicts
the set L(p) for a given price vector p. The red region corresponds to L(p) \ G, while the green region
corresponds to L(p)∩G. A demand query p is informative if the total number of agents in the red and green
regions is at most 2ℓ4, and the green region alone contains at least ℓagents.
m′ = ℓ3 individual actions, Ti = {(i−1)·m′+1, . . . , (i−1)·m′+m′}. The set of all actions is T = T1⊔. . .⊔Tn.
Every action j ∈Ti incurs cost cj = 1/(2ℓ3). The success probability function is defined by:
f (G)(S) = max

|A(S)|, (1/ℓ) ·
S|G
, ℓ3	
for any non-empty action profile S ⊆T, and f(∅) = 0. When the choice of G is clear from context, we
suppress it and write f in place of f (G).
We also define an instance I′ = ⟨A, {Ti}i∈A, f ′, c⟩, which shares the same agents, actions, and costs as
the family of instances above, and whose success probability is defined as:
f ′(S) = max{|A(S)|, ℓ3}.
We will show that, when G is sampled uniformly at random from all ℓ2-size subsets of A, no deterministic
algorithm can distinguish between I(G) and I′ with non-negligible probability.
We begin by introducing a condition on demand queries that plays a central role in our analysis. An
illustration of this definition is provided in Figure 1.
Definition 4.3 (Informative Demand Query). For any price vector p ∈RT , define:
L(p) = {i ∈A | pj ≤1/ℓfor some j ∈Ti}.
We call a price vector p, and its associated demand query, informative with respect to G ⊆A if it satisfies
both |L(p)| < 2ℓ4 and |L(p) ∩G| > ℓ.
A price vector that does not satisfy the conditions above is referred to as uninformative.
We now state the first useful property of informative demand queries, roughly, that an uninformative
price vector cannot help distinguish between an instance of the form I(G) and I′.
Lemma 4.4 (Uninformative Queries Reveal No Information About G). For any G ⊆A with |G| = ℓ2 and
any price vector p that is uninformative with respect to G, we have Df (G)(p) = Df ′(p).
Proof. Let p be an uninformative price vector with respect to G. Define S2 = {S ⊆T | f (G)(S) = f ′(S)}
and S1 = 2T \ S2. Observe that:
f (G)(S) > f ′(S) for all S ∈S1
and
f (G)(S) = f ′(S) for all S ∈S2.
16


--- Page 17 ---
It is sufficient to show that Df (G)(p) ∩S1 = ∅, as by the observation above, this immediately implies that
Df ′(p) ∩S1 = ∅and that Df (G)(p) ∩S2 = Df ′(p) ∩S2.
Let S ∈Df (G)(p) be a demand bundle. Suppose, towards a contradiction, that S ∈S1, i.e.,
f (G)(S) = (1/ℓ) ·
S|G
 > max

|A(S)|, ℓ3	
.
(3)
We claim that for every action j ∈S, it holds that fS(j) ≤1/ℓ. Indeed, for any i ∈G and j ∈Ti we
have f(S \ {j}) = (1/ℓ) · (
S|G
 −1). For any i /∈G and j ∈Ti we have f(S \ {j}) = (1/ℓ) ·
S|G
. In both
cases, the marginal contribution of action j is at most 1/ℓ, establishing the claim.
Since S is a demand set, we must have pj ≤fS(j) ≤1/ℓfor all j ∈S. Consequently, A(S) ⊆L(p).
Additionally, Equation (3) implies that
S|G
 > ℓ4. Since each agent in G has at most ℓ3 actions, it follows
that |A(S) ∩G| > ℓ.
Putting the two together we have that |L(p)∩G| > ℓ. As p is uninformative, this implies that |L(p)| ≥2ℓ4.
Now consider an action profile S′ defined as follows. For each i ∈L(p), let S′
i = {j} for some j ∈Ti
satisfying pj ≤1/ℓ, which exists by the definition of L(p). For each i /∈L(p), let S′
i = ∅. Observe that
|S′| = |A(S′)| = |L(p)| ≥2ℓ4. As
S|G
 ≤
 S
i∈G Ti
 ≤ℓ5, we have
f(S′) −
X
j∈S′
pj ≥|A(S′)| · (1 −1/ℓ) ≥2ℓ4 −2ℓ3 > ℓ4 ≥(1/ℓ) ·
S|G
 ≥f(S) −
X
j∈S
pj.
This contradicts the assumption that S is a demand set with respect to p, completing the argument.
Next, we show that a price vector is informative with exponentially small probability.
Lemma 4.5 (Probability of Informativeness). Fix a price vector p ∈RT , and suppose that G is sampled
uniformly at random from
 A
ℓ2

. Then the probability that p is informative w.r.t. G is at most exp(−ℓ).
Proof. If |L(p)| ≥2ℓ4, then p is uninformative with respect to any G. We therefore assume that |L(p)| < 2ℓ4.
Let L1, . . . , Lk denote all (ℓ+ 1)-element subsets of L(p) where k =
 |L(p)|
ℓ+1

. Observe that
P[|L(p) ∩G| > ℓ] = P[Lj ⊆G for some j] ≤
k
X
j=1
P[Lj ⊆G] =
|L(p)|
ℓ+ 1

· P[L1 ⊆G].
We first bound
P[L1 ⊆G] =
ℓ7 −(ℓ+ 1)
ℓ2 −(ℓ+ 1)

·
ℓ7
ℓ2
−1
=

(ℓ7 −(ℓ+ 1))!
(ℓ2 −(ℓ+ 1))!(ℓ7 −ℓ2)!

·

(ℓ7)!
(ℓ2)!(ℓ7 −ℓ2)!
−1
= ℓ2(ℓ2 −1) · · · (ℓ2 −ℓ)
ℓ7(ℓ7 −1) · · · (ℓ7 −ℓ) ≤

ℓ2
ℓ7 −ℓ
ℓ+1
≤
 2ℓ−5ℓ+1 .
Next, we bound
|L(p)|
ℓ+ 1

≤
 2ℓ4
ℓ+ 1

≤
 2ℓ4e
ℓ+ 1
ℓ+1
≤(2ℓ3e)ℓ+1
where the second inequality follows from a standard binomial bound [Wik25]. Combining these bounds
yields:
P[|L(p) ∩G| > ℓ] ≤(2ℓ3e)ℓ+1(2ℓ−5)ℓ+1 ≤(4ℓ−2e)ℓ+1 ≤e−ℓ
where the last inequality follows since ℓ≥5. This completes the proof.
We next establish a lower bound on the optimal value achievable under any contract.
17


--- Page 18 ---
Lemma 4.6 (Lower Bound for Optimum). For any parameter G ⊆A with |G| = ℓ2, the equal-pay contract
α = αeq  (1/(2ℓ2)), G

induces the equilibrium T|G and (1 −P
i∈A αi)f(T|G) ≥(1/2) · ℓ4.
Proof. Recall that T|G is the profile where each agent in G performs her entire actions set and agents outside
of G do nothing. It holds that f(T|G) = max

|A(T|G)|, (1/ℓ) ·
T|G
, ℓ3	
= max

ℓ2, (1/ℓ) · ℓ2 · ℓ3, ℓ3	
= ℓ4.
We first argue that T|G is an equilibrium with respect to contract α. Let i ∈A. If i /∈G, then αi = 0,
and the agent has no incentive to deviate to any non-empty set of actions. Now suppose i ∈G. In this case,
ui(α, T|G) = αi · f(T|G) −c(Ti) = (1/(2ℓ2)) · ℓ4 −ℓ3 · (1/(2ℓ3)) = (1/2) · ℓ2 −1/2.
Moreover, for any alternative action set S′
i ⊆Ti, we have
ui(α, S′
i ⊔T|G\{i}) = αi · f(S′
i ⊔T|G\{i}) −c(S′
i) = (1/(2ℓ2)) ·
 ℓ4 −(1/ℓ) · (ℓ3 −|S′
i|)

−|S′
i| · (1/(2ℓ3))
= (1/2) · ℓ2 −1/2.
Thus, no agent can improve her utility by deviating, and T|G is indeed an equilibrium.
The principal’s utility from the contract α at the equilibrium T|G satisfies:
uP (α, T|G) = (1 −Pn
i=1 αi) · f(T|G) = (1 −ℓ2 · (1/(2ℓ2))) · f(T|G) = (1/2) · ℓ4.
This completes the proof.
We now define the notion of aligned contracts.
Definition 4.7 (Aligned Contract). We say that a contract α is aligned with respect to G ⊆A if:
|{i ∈G | αi ≥1/(2ℓ2)}| > ℓ
and
P
i∈A αi ≤1.
Any contract that fails to satisfy the condition above is called unaligned.
Next, we derive an upper bound on the value of any unaligned contract. Combined with the lower bound
on the optimum from Lemma 4.6, the following lemma implies that achieving a constant-factor approximation
requires returning an aligned contract.
Lemma 4.8 (Upper Bound for Unaligned Contracts). Let G ⊆A satisfy |G| = ℓ2. For any contract α that
is unaligned with respect to G and for any equilibrium S, it holds that f(S) ≤2ℓ3.
Proof. Let α be a contract such that |{i ∈G | αi ≥1/(2ℓ2)}| ≤ℓ, and let S be an equilibrium. Observe
that for any action j ∈S with j ∈Ti, it must be that:
ui(α, S) ≥ui(α, S \ {j})
=⇒
αi · (f(S) −f(S \ {j})) ≥cj = 1/(2ℓ3)
=⇒
αi ≥1/(2ℓ3)
where the last implication follows from the fact that f(S) −f(S \ {j}) ≤1 for any j ∈S. Hence, by the
assumption that P
i∈A αi ≤1, we obtain that |A(S)| ≤2ℓ3.
Suppose that f(S) > 2ℓ3. Since f(S) = max{|A(S)|, (1/ℓ) ·
S|G
, ℓ3}, and the first and third terms are
at most 2ℓ3, it follows that f(S) = (1/ℓ) ·
S|G
. Moreover, for any action j ∈S with j ∈Ti and i ∈G, we
have f(S \ {j}) = (1/ℓ) · (
S|G
 −1), and thus:
ui(α, S) ≥ui(α, S \ {j})
=⇒
αi · (f(S) −f(S \ {j})) ≥cj = 1/(2ℓ3)
=⇒
αi · (1/ℓ) ≥1/(2ℓ3)
=⇒
αi ≥1/(2ℓ2).
18


--- Page 19 ---
Therefore, any agent i ∈G with Si ̸= ∅satisfies αi ≥1/(2ℓ2). By assumption, this implies that there are at
most ℓagents in G with non-empty action sets in S, and hence:
f(S) = (1/ℓ) · |SG| ≤(1/ℓ) · ℓ· ℓ3 = ℓ3
which yields a contradiction and completes the proof.
We use the bound on the probability of making an informative demand query to derive a corresponding
bound on the probability that a contract is aligned.
Lemma 4.9 (Probability of Alignment). Fix a contract α, and suppose that G is sampled uniformly at
random from
 A
ℓ2

. Then the probability that α is aligned with respect to G is exp(−ℓ).
Proof. If P
i∈A αi > 1, then by the second condition of Definition 4.7 the contract α is aligned with
probability zero.
We therefore assume that P
i∈A αi ≤1.
Define a price vector q ∈RT by setting
qj = (1/ℓ) · 1[αi ≥1/(2ℓ2)] for every agent i ∈A and action j ∈Ti.
We claim that for any G ⊆A, if α is aligned with respect to G, then q is informative with respect to
G. Once this claim is established, it follows that the probability that α is aligned is at most the probability
that q is informative, which by Lemma 4.5 is at most exp(−ℓ).
Fix an arbitrary G ⊆A. By construction of q,
L(q) = {i ∈A | qj ≤1/ℓfor some j ∈Ti} = {i ∈A | αi ≥1/(2ℓ2)}.
Since P
i∈A αi ≤1, we have |L(q)| ≤2ℓ2 ≤2ℓ4, and thus q satisfies the first condition of Definition 4.3.
Moreover, the second condition of Definition 4.3 holds because
|L(q) ∩G| = |{i ∈G | αi ≥1/(2ℓ2)}| > ℓ
where the inequality follows from the assumption that α is aligned. This completes the proof.
The lemmas above can be combined to yield the following lemma.
Lemma 4.10. Let Alg be a deterministic algorithm which makes at most M demand queries and no value
queries. When G is sampled uniformly at random among subsets of A of size ℓ2, the probability of Alg
achieving an (ℓ/4)-approximation to to the optimal profit on instance I(G) is at most (M + 1) · exp(−ℓ).
Proof. Let Alg be a deterministic algorithm that makes at most M demand queries, and let α(G) denote
the contract returned by Alg on instance I(G).
By Lemmas 4.6 and 4.8, the algorithm Alg achieves an (ℓ/4)-approximation on instance I(G) only if the
returned contract α(G) is aligned with respect to G.
Let α′ denote the contract returned by Alg on instance I′, and let p′
1, . . . , p′
k be the sequence of demand
queries issued by Alg on I′. Since Alg makes at most M demand queries on any instance, we have k ≤M.
Fix a subset G ⊆A. If all demand queries in p′
1, . . . , p′
k are uninformative with respect to G, then Alg
issues the same sequence of demand queries on instance I(G), and hence returns contract α′. This follows
directly from Lemma 4.4, as the responses to all uninformative demand queries are identical in I(G) and I′.
By the union bound and Lemma 4.5, the probability that at least one of the demand queries in p′
1, . . . , p′
k
is informative is at most k·exp(−ℓ). Moreover, by Lemma 4.9, the probability that α′ is aligned with respect
to G is at most exp(−ℓ). Applying the union bound once more, the probability that Alg returns an aligned
contract is at most (k + 1) · exp(−ℓ), which completes the proof.
We are now ready to prove Theorem 4.2.
Proof of Theorem 4.2. Since each value query can be simulated using polynomially many demand queries,
we may assume without loss of generality that the algorithm makes only demand queries. Let M denote
the number of such queries. Fix n sufficiently large and set ℓ= n1/7. Consider an arbitrary deterministic
19


--- Page 20 ---
algorithm and a random instance I(G), where G is sampled uniformly at random from
 A
ℓ2

. By Lemma 4.10,
this deterministic algorithm achieves an (ℓ/4)-approximation with probability at most
(M + 1) · exp(−ℓ) = (M + 1) · exp(−n1/7) < 1/(8ℓ)
for sufficiently large n, since M and ℓare polynomial in n. By symmetry, all instances I(G) share the same
optimal value; denote this value by Opt. It follows that:
EG∼Uniform(
A
ℓ2)[Alg(I(G))] ≤Opt · (1/(8ℓ)) + (4/ℓ) · Opt · (1 −1/(8ℓ)) ≤(8/ℓ) · Opt.
By Yao’s principle, for any randomized algorithm there exists an instance on which the expected approxi-
mation ratio is at least ℓ/8 = Ω(n1/7).
4.2
No PTAS for Matroid Rank Functions
In this section, we establish that maximizing profit admits no PTAS unless P = NP, even when the success
probability is a matroid rank function, which is a special case of gross substitutes.
The argument proceeds via a reduction from a promise variant of the maximum coverage problem. We
first state an NP-hardness result proved in [EFS24], which generalizes the earlier hardness result of [Fei98].
Proposition 4.11 ([EFS24]). Let k ∈N+, and let (U, A, h) be a set system with universe U and family of
sets h : A →2U such that |h(i)| = |U|/k for all i ∈A. Define the normalized unweighted coverage function
˜f : 2A →[0, 1] by ˜f(B) =
S
i∈B h(i)
/|U|. Consider the following promise problem on input (U, A, h, k),
where exactly one of the two conditions below holds.
1. The good case: There exists a set B ⊆A with |B| = k such that ˜f(B) = 1.
2. The bad case: For every set B ⊆A with |B| ≤2k it holds that ˜f(B) ≤1 −e−|B|/k + 0.01.
It is NP-hard to distinguish the good case from the bad case.
We now prove the main theorem of this section.
Theorem 4.12. When the success probability function f is a normalized unweighted matroid rank function,
it is NP-hard to find a 0.7-approximation to the optimal profit over unconstrained contracts. Moreover, the
same hardness result applies to equal-pay contracts.
Proof. Let (U, A, h, k) be an instance from Proposition 4.11. We define a multi-agent combinatorial-actions
instance ⟨A, {Ti}i∈A, f, c⟩by setting Ti = {(i, u) | u ∈h(i)}. The success probability for all S ⊆T = S
i∈A Ti
is given by f(S) = | S
(i,u)∈S{u}|/|U|, and each action (i, u) ∈T has cost c(i,u) = 1/(2k|U|).
Note that f is a normalized unweighted matroid rank function, since |U| · f is the rank function of the
partition matroid on ground set T with parts T(u) = {(i, v) ∈T | v = u}, where independent sets contain
at most one element from each part.
We analyze the optimal profit in the two cases from Proposition 4.11.
In the good case, there exists a set B ⊆A of size k such that ˜f(B) = 1. By the definition of ˜f, this
implies that S
i∈B h(i) = U, and since |h(i)| = |U|/k for all i ∈A, it must be the case that {h(i)}i∈B are
disjoint. Consider the contract αi = 1/(2k) for each i ∈B and αi = 0 for each i /∈B. Since agents outside
of B receive zero payment and all action costs are strictly positive, no agent outside of B takes any action
in any Nash equilibrium. Fix any agent i ∈B and any action profile Q = F
j∈B Qj. By the fact that the
sets {h(i)}i∈B are disjoint, we have that f(Q) = | S
(i,u)∈Q{u}|/|U| = |Q|/|U|. Therefore:
ui(α, Q) = αi · f(Q) −P
j∈Qi cj = (1/(2k)) · (|Q|/|U|) −|Qi| · (1/(2k|U|))
= (1/(2k|U|)) · (|Qi| + |Q−i|) −|Qi| · (1/(2k|U|))
= (1/(2k)) · (|Q−i|/|U|).
20


--- Page 21 ---
Hence, agent i’s utility is independent of its chosen set of actions Ti. Thus, the action profile T|B, where
each agent i ∈B takes all actions in Ti, is an equilibrium that satisfies:
uP (α, T|B) = (1 −k · (1/(2k))) · f(T|B) = (1 −k · (1/(2k))) · ˜f(B) = 0.5,
where ˜f is defined as in Proposition 4.11.
In the bad case, observe that incentivizing any agent to take a non-empty set of actions requires a payment
of at least 1/(2k). Indeed, for any αi < 1/(2k) and any action profile Q = F
j∈A Qj with Qi ̸= ∅, we have
ui(α, Q) = αi · f(Q) −P
j∈Qi cj = αi · (f(Q) −f(Q−i)) + αi · f(Q−i) −|Qi| · (1/(2k|U|))
≤αi · (|Qi|/|U|) + αi · f(Q−i) −|Qi| · (1/(2k|U|))
< αi · f(Q−i).
Therefore, agent i strictly prefers deviating to the empty action set, which proves the claim. Thus, any
action profile Q with |A(Q)| ≥2k yields non-positive principal’s utility, since the total payment required to
incentivize agents in A(Q) is |A(Q)| · (1/(2k)) ≥1. Moreover, for any action profile Q with |A(Q)| < 2k
induced by contract α, the assumption in case (2) of Proposition 4.11 implies
uP (α, Q) ≤(1 −|A(Q)| · (1/(2k))) · f(Q) ≤(1 −|A(Q)| · (1/(2k))) · ˜f(A(Q))
< (1 −|A(Q)| · (1/(2k))) · (1 −e−|A(Q)|/k + 0.01)
< 0.35,
where the third inequality is since (1 −x/2)(1 −e−x + 0.01) < 0.35 for all x.
Since 0.35/0.5 = 0.7, the existence of a 0.7-approximation algorithm for maximizing profit under matroid
rank success probabilities would allow one to distinguish between the good and bad cases. Therefore, finding
a 0.7-approximation is NP-hard by Proposition 4.11.
5
Price of Equality
In this section we quantify the worst-case loss to the principal’s utility by restricting to an equal-pay contract.
In Section 5.1 we present a Ω(log n/log log n) lower bound on the price of fairness for additive f, where each
agent can either work or shirk (binary actions). This bound is tight for any instance with XOS f and any
number of actions, as we show in Section 5.2. In Section 5.3 we show a separation between instances with
XOS and subadditive f and give a lower bound of Ω(√n) on the price of equality for the latter, which holds
even in the binary-actions case. We begin by formally defining price of equality.
Definition 5.1 (Price of Equality). Given an instance I = ⟨A, {Ti}i∈A, f, c⟩, the price of equality is the
ratio between the maximal principal’s utility from an unconstrained contract, and the maximal principal’s
utility under an equal-pay contract. The measure is defined with respect to the best equilibrium the contracts
induce.
PoEI =
maxα,S∈NE(α)(1 −P
i∈A αi)f(S)
maxequal-pay α,S∈NE(α)(1 −P
i∈A αi)f(S)
When considering a family of instances F (e.g., all instances with additive f), the price of equality is
taken with respect to the worst-case instance in the family.
PoEF = max
I∈F PoEI
5.1
Lower Bound of log(n)/ log log(n) on Price of Fairness for Additive f
We provide the following lower bound on the price of fairness for additive rewards.
21


--- Page 22 ---
Proposition 5.2. There exists a binary-action instance with additive f such that the price of equality is
Ω

log n
log log n

.
Proof. Consider an instance where each agent i ∈A has a single non-shirking actions Si = {i}. Let fi = 1
i
and ci =
1
2i2Hn , where Hn denotes the nth harmonic number.
We first show that the optimal unconstrained contract has an equilibrium which yield the principal a
utility of at least 1
2 · Hn. In particular, consider the contract that pays αi = 1/(2iHn) to agent i, for a
total payment of Pn
i=1 1/(2iHn) = Hn/(2Hn) = 1
2. It is easy to observe that this contract induces the Nash
equilibrium T = {1, . . . , n}. Let (α⋆, S⋆) be the optimal contract and equilibrium. It holds that
uP (α⋆, S⋆) ≥uP (α, {1, . . . , n}) =
 
1 −
X
i∈A
1
2iHn
!
f({1, . . . , n}) = 1
2 · Hn,
where the first inequality follows by the optimality of (α⋆, S⋆).
We next show that the optimal equal-pay contract yields an f value of at most ln(3 ln n) + o(1). Observe
that agent i is incentivized to take action i if and only if αi ≥ci
fi =
1
2iHn .
Consider an equal-pay contract α, and let S be an equilibrium induced by α, and note that it is without
loss of generality to assume that for any i ∈A such that i /∈S, we have αi = 0.
If α is the zero contract, then S = ∅is the unique equilibrium induced by α, and we have f(∅) = 0.
Otherwise, let j ∈A be the agent with the maximal non-zero αj, breaking ties in favor of the smallest
index. It is without loss of generality to assume that αj =
1
2jHn and that all agents i < j have αi = 0. As α
is an equal-pay contract, any other agent i ≥j such that i ∈S must have αi = αj =
1
2jHn . Since the total
payment cannot exceed 1, the number of agents who choose the non-shirking action is at most 2jHn. Thus,
for the equilibrium S ∈NE(α) it holds that
f(S) =
X
i∈S
1
i ≤
j+2jHn
X
i=j
1
i = Hj+2jHn −Hj = ln(j + 2jHn) −ln(j) + o(1)
= ln(2Hn + 1) + o(1) ≤ln(3 ln n) + o(1),
We conclude that
PoEadditive f = uP (α⋆, S⋆)
uP (α, S)
≥
Hn
2 ln(3γ ln n) + o(1) = Ω

ln n
ln(γ ln n)

which completes the proof.
5.2
Upper Bound of log(n)/ log log(n) on Price of Fairness for XOS f
We provide the following upper bound on the price of fairness with XOS rewards.
Theorem 5.3. For any instance with XOS f, any contract α⋆, and any equilibrium S⋆∈NE(α⋆), there exists
an equal-pay contract α and S ∈NE(α) such that (1 −P
i∈A αi)f(S) ≥Ω

log log n
log n

(1 −P
i∈A α⋆
i )f(S⋆).
To prove Theorem 5.3, we propose a two-stage bucketing procedure described in Algorithm 2. First,
we examine whether a single large agent (whose payment under α⋆is greater that 1/2) can achieve a good
approximation by itself.
Otherwise, we find a good subset of the other (small) agents via a bucketing
procedure and the scaling-for-existence lemma (Lemma 2.6). In Section 5.2.1 we analyze the large agent
case, which uses tools from [DEFK25b]. In Section 5.2.2 we analyze our bucketing procedure and conclude
with the correctness of Theorem 5.3.
22


--- Page 23 ---
a1
. . .
b1
. . .
. . .
. . .
ah
. . .
bh
. . .
Z
B1
B′
1
Bh
B′
h
X
. . .
1 bucket for
large agent
O(log n/ log log n) buckets for
middle agents
1 bucket for
small agents
Figure 2: The structure of the buckets used in Algorithm 2. Nodes represent agents ordered from left to
right by increasing α⋆
i . The text inside each node denotes the label assigned to its index. Blue boxes indicate
the buckets, and the text above each box shows the label assigned to that bucket by the algorithm.
5.2.1
Analyzing the Large Agent Case
The analysis of the large agent case resembles the analysis in [DEFK25b]. Specifically, we use the following
lemma:
Lemma 5.4 (Case 1 in Lemma 5.2 in [DEFK25b]). Consider a subadditive f and a contract α⋆with
P
i α⋆
i < 1. Let S⋆∈NE(α⋆) be an equilibrium such that exists i ∈A with (1 −α⋆
i )f(S⋆
i ) ≥4f(S⋆
−i). The
contract αi = 1+α∗
i
2
and αj = 0 for any other j has an equilibrium S such that Sj = ∅for any j ̸= i and
f(Si) ≥1
2f(S⋆
i ).
Through a similar analysis to Theorem 5.2 in [DEFK25b], we prove the guarantees for the large agent
case.
Lemma 5.5. Consider any subadditive f, any α⋆such that P
i α⋆
i < 1 and any S⋆∈NE(α⋆). If Algorithm 2
returns a contract in line 6, it is equal-pay, and there exists an equilibrium such that (1 −Pn
i=1 αi)f(S) ≥
(2/9)(1 −Pn
i=1 α⋆
i )f(S⋆).
Proof. Let z ∈A be the agent for which the condition in line 3 of Algorithm 2 is met. In line 6, the algorithm
returns the contract αz = 1+α⋆
z
2
and αi = 0 for any other i ̸= z. Observe that for any i ̸= z, Si = ∅is a
best-response regardless of others’ actions. By lemma 5.4, f(Sz) ≥f(S⋆
z)/2, which implies that
(1 −αz)f(Sz) = 1
2(1 −α⋆
z)f(Sz) ≥1
4(1 −α⋆
z)f(S⋆
z)
(4)
Because agent z meets the conditions in line 3, it holds that α⋆
z > 1/2, and (1 −α⋆
z)f(S⋆
z) ≥4f(S⋆
−z).
We get,
1
2f(S⋆
z) > (1 −α⋆
z)f(S⋆
z) ≥4f(S⋆
−z) ≥4(f(S⋆) −f(S⋆
z)),
where the last inequality is by subadditivity. Rearranging, we get that f(S⋆
z) > 8
9f(S⋆). Together with
Equation (4), we get:
(1 −αz)f(Sz) ≥1
4(1 −α⋆
z)f(S⋆
z) ≥1
4
 
1 −
X
i∈A
α⋆
i
!
f(S⋆
z) ≥2
9
 
1 −
X
i∈A
α⋆
i
!
f(S⋆),
as needed.
5.2.2
Analyzing the No Large Agent Case
We begin the analysis of the no large agent case by a bound on the total payment returned in this case.
Lemma 5.6. The contract α returned in line 18 of Algorithm 2 is equal-pay and satisfies P
i∈A αi < 3/4.
23


--- Page 24 ---
Algorithm 2: An O(log n/ log log n)-approximation to profit via an equal-pay contract for XOS f
Input: A contract α⋆with P
i α⋆
i < 1, a profile S⋆∈NE(α⋆), costs c1, . . . , cm ≥0, value oracle
access to an XOS set function f : 2[m] →R≥0
Output: An equal-pay contract α for which there exists a profile S ∈NE(α) such that
(1 −P
i αi)f(S) ≥Ω( log log n
log n )(1 −P
i α⋆
i )f(S⋆)
1 let N ←A(S⋆) ; // Ignore all agents that shirk in S⋆
2 let Z ←{i ∈N | α⋆
i > 1/2} ; // Large agent (Z can be of size 0 or 1)
3 if ∃z ∈Z s.t. (1 −α⋆
z)f(S⋆
z) ≥4f(S⋆
−z) then
4
αz ←α⋆
z+1
2
;
5
For any i ̸= z, αi ←0;
6
return α;
7 N ←N \ Z, rename remaining agents so that α⋆
1 ≥α⋆
2 ≥. . . ; // Small agents
8 X ←{i ∈N | α⋆
i < 1/(2n)}, k ←|N \ X|;
9 h ←1, ah ←1;
10 while ah < k do
11
bh ←min{ah + ⌊
1
2α⋆ah ⌋+ 1, k + 1};
12
Bh ←{ah, . . . , bh −1};
13
B′
h ←{bh} ; // if bh = k + 1, we set B′
h ←∅
14
h ←h + 1, ah ←bh + 1;
15 B ←{X, B1, . . . , Bh, B′
1, . . . B′
h};
16 B ←arg maxQ∈B f(S⋆|Q) ; // S⋆|Q are the actions in S⋆performed by agent in Q
17 pB ←max{α⋆
i | i ∈B};
18 return αeq ((3/2) · pB, B);
Proof. Let α be the equal-pay contract returned in line 18.
Consider a possible set of agents (bucket)
returned in line 16, i.e., some B ∈B defined in line 15. Let pB = maxi∈B{α⋆
i }, as in line 17. Since α pays
(3/2)pB to every agent in B and 0 to all others, it suffices to show that |B|pB ≤1/2.
First, if B = X, the statement clearly holds, as by definition |X|pX < n ·
1
2n = 1/2. Second, observe
that in this point of the algorithm we only consider small agents, those with α⋆
i ≤1/2. Thus, if |B| = 1,
the claim holds as well. Lastly, a set B with more than one agent is of the form B = {aj, . . . , bj −1}, for
some j ∈[h]. Since agents are ordered we have pB = α⋆
aj. Observe that by definition of bj it holds that
pB · |B| = pB(bj −aj −1) ≤pB(⌊1/(2pB)⌋+ aj + 1 −aj −1) ≤1/2.
Next, we bound the maximum possible number of buckets.
Lemma 5.7. The number of buckets in line 15 is 2h + 1 ≤33 ln n
ln ln n.
Proof. Let h be the total number of buckets in line 15, denote h′ = h −1.
For any j ∈[h′] denote
Cj = Bj ∪B′
j = {aj, . . . , bj}. Observe that by construction for any j ∈[h′], |Cj| · α⋆
aj ≥1/2, and thus
1/2 ≤α⋆
aj · |Cj| ≤α⋆
aj ·
X
i∈Cj
α⋆
i
α⋆
bj
|{z}
≥1
≤
α⋆
aj
α⋆aj+1
·
X
i∈Cj
α⋆
i ,
where the second inequality follows from the ordering of the agents by payment. Rearranging,
α⋆
aj+1
α⋆aj
≤2 ·
X
i∈Cj
α⋆
i
(5)
24


--- Page 25 ---
We consider the (telescopic) product of the left-hand side of Equation (5), for any j ∈[h′]. Using the fact
that small agents receive payment at most 1/2, we get
h′
Y
j=1
α⋆
aj+1
α⋆aj
=
α⋆
ah′+1
α⋆a1
≥1/2n
1/2 = 1
n.
The product of the right-hand side of Equation (5) can be upper bounded using the AM-GM inequality, and
the assumption that P
i∈A α⋆
i ≤1, we get:
h′
Y
j=1

2 ·
X
i∈Cj
α⋆
i

≤

1
h′ ·
h′
X
j=1

2 ·
X
i∈Cj
α⋆
i




h′
≤
 
2
h′ ·
X
i∈A
α⋆
i
!h′
≤
 2
h′
h′
.
Combining these inequalities, we obtain 1/n ≤(2/h′)h′, which implies n ≥(h′/2)h′, and therefore ln n ≥
h′ ln(h′/2). Since the function x/ ln x is increasing for x ∈[e, ∞), it follows that:
ln n
ln ln n ≥
h′ ln(h′/2)
ln(h′ ln(h′/2)) =
h′ ln(h′/2)
ln h′ + ln ln(h′/2) ≥h′ ln(h′/2)
3 ln(h′/2) = h′
3 ,
where the last inequality holds for h′ ≥2e2 ≈14.7 We conclude that h = h′+1 ≤max{3 ln n/ln ln n+1, 16} ≤
16 ln n/ln ln n.
We combine the lemmas above to obtain the following guarantee in the no large agent case.
Lemma 5.8. Let α be the contract returned in line 18, there exists an equilibrium S ∈NE(α) such that

1 −P
j∈A αj

f(S) ≥
ln ln n
1980 ln n

1 −P
j∈A α⋆
j

f(S⋆).
Proof. Let B ⊆A be the subset of agents picked in line 16, and let pB be the price of the most expensive
agent in B, as in line 17.
Denote by S⋆|B the actions taken by agents of B in the profile S⋆, namely
S⋆|B = S⋆∩(∪i∈BTi).
Since S⋆, the input to Algorithm 2, is a Nash equilibrium with respect to α⋆, it is also dropout stable.
Thus, applying Lemma 2.6 to (α⋆, S⋆) with B ⊆A and γ = 3/2, yields exactly the contract α in line 18. It
is guaranteed that there exists an equilibrium S ∈NE(α) such that f(S) ≥1
3f(S⋆|B).
Since B is the bucket with the maximal value of f, by subadditivity of f, f(S⋆|B) ≥
1
2h+1f(S⋆\ S⋆|Z) ≥
ln ln n
33 ln nf(S⋆\ S⋆|Z) where S⋆|Z is the action taken by the agents in Z in the profile S⋆.
Lastly, observe that Z is either a singleton or an empty set. If Z = {z}, then, because the condition in
line 3 is not met, we have (1 −α⋆
z)f(S⋆
z) < 4f(S⋆
−z), and so
 
1 −
X
i∈A
α⋆
i
!
f(S⋆) ≤
 
1 −
X
i∈A
α⋆
i
!
f(S⋆
z) +
 
1 −
X
i∈A
α⋆
i
!
f(S⋆
−z)
(subadditivity of f)
≤(1 −α⋆
z) f(S⋆
z) + f(S⋆
−z)
(non-negativity of α)
< 5f(S⋆
−z)
= 5f(S⋆\ S⋆|Z)
If Z = ∅, then clearly
 1 −P
i∈A α⋆
i

f(S⋆) ≤f(S⋆) ≤5f(S⋆\ S⋆|Z). Overall we get,
f(S) ≥1
3f(S⋆|B) ≥ln ln n
99 ln nf(S⋆\ S⋆|Z) ≥ln ln n
495 ln n

1 −
X
j∈A
α⋆
j

f(S⋆).
By Lemma 5.6, P
i αi ≤3/4, and we get

1 −P
j∈A αj

f(S) ≥1
4f(S) ≥
ln ln n
1980 ln n

1 −P
j∈A α⋆
j

f(S⋆)
25


--- Page 26 ---
We are now ready to prove Theorem 5.3.
Proof of Theorem 5.3. Let α⋆be any contract. If P
i α⋆
i ≥1, the principal’s utility is zero, and the all-zero
contract satisfies the claim. Otherwise, we can run Algorithm 2. Let α be the contract returned in line 18.
If Algorithm 2 returns a contract in line 18, then by lemma 5.8, there exists S ∈NE(α) such that

1 −
X
j∈A
αj

f(S) ≥
ln ln n
1980 ln n

1 −
X
j∈A
α⋆
j

f(S⋆).
Otherwise, Algorithm 2 returns a contract in line 6, then by Lemma 5.5, we have

1 −
X
j∈A
αj

f(S) ≥2
9

1 −
X
j∈A
α⋆
j

f(S⋆).
This concludes the proof.
5.3
Lower bound of Ω(√n) on Price of Equality for Subadditive f
We provide the following lower bound on the price of fairness with subadditive rewards.
Proposition 5.9 (Lower Bound on Price of Fairness for Subadditive f). There exists an instance with
subadditive f the price of equality is Ω(√n)
Proof. Assume without loss of generality that n ≥16. We will show that there exists an (unconstrained)
contract α⋆and equilibrium S⋆which satisfy uP (α⋆, S⋆) ≥1
8, and that for any equal-pay contract α with
Pn
i=1 αi ≤1 and equilibrium S it holds that uP (α, S) ≤f(S) ≤2/√n.
Consider an instance with n agents, each has one non-shirking action. The cost of the agents [n −1] =
{1, . . . , n −1} is ci = 1/(2 · n · √n), and the cost of the last agent is ci = 1/(4√n). The reward function is
defined as:
f(S) =
(
1/√n + |S|/n
if |S| ≤n −1
2/√n + n−1
n
if |S| = n
Let us first argue that f is subadditive. We need to verify that for S1, S2 ⊆A, we have f(S1 ∪S2) ≤
f(S1) + f(S2). Note that f(S) ≤2/√n + |S|/n for every S ⊆A. If |S1| = n or |S2| = n, then we have
f(S1 ∪S2) = f(S1) or f(S1 ∪S2) = f(S2), respectively. If |S1| ≤n −1 and |S2| ≤n −1, then
f(S1 ∪S2) ≤2/√n + |S1 ∪S2|/n ≤(1/√n + |S1|/n) + (1/√n + |S2|/n) = f(S1) + f(S2).
Therefore, f is subadditive.
Consider the (unconstrained) contract α⋆defined by α⋆
i = 1/(2n) for any i ∈[n −1], and α⋆
n = 1/4.
Observe that S⋆= [n] is an equilibrium of α⋆, since for every i ∈S⋆we have α⋆
i f(i | S⋆\ {i}) = ci.
Additionally,
uP (α⋆, S⋆) =

1 −1
2n · (n −1) −1/4
  2
√n + 1
2

≥1
8.
On the other hand, let α be an equal-pay contract such that Pn
i=1 αi ≤1 and let S ∈NE(α).
If S ⊆[n −1], then for every i ∈S we have fS(i) = 1/n, and ci/fS(i) = 1/√n, which is the minimal
payment required to incentivize i.
Thus, for the principal’s utility to be non-negative it must be that
|S| ≤√n and the reward from this equilibrium is f(S) ≤2/√n.
Otherwise, agent n exerts effort, and his payment is at least
cn
fS(n) ≥
1
4√n · √n = 1/4. which implies that
there are at most 4 agents, as each of them must be paid at least 1/4. Thus, the total reward generated by
S is f(S) ≤1/√n + 4/n ≤2/√n, where the last inequality holds since n ≥16. We conclude that
PoE ≥uP (α⋆, S⋆)
uP (α, S)
≥uP (α⋆, S⋆)
f(S)
≥
√n
16
which completes the proof.
26


--- Page 27 ---
References
[ACC+25] Tal Alon, Matteo Castiglioni, Junjie Chen, Tomer Ezra, Yingkai Li, and Inbal Talgam-Cohen.
Multi-project contracts. In Proceedings of the 26th ACM Conference on Economics and Com-
putation, pages 580–598, 2025.
[ADLT23] Tal Alon, Paul Duetting, Yingkai Li, and Inbal Talgam-Cohen.
Bayesian analysis of linear
contracts. In EC 2023, page 66, 2023.
[ADT21] Tal Alon, Paul Dütting, and Inbal Talgam-Cohen. Contracts with private cost per unit-of-effort.
In EC 2021, pages 52–69, 2021.
[AHT25] Gil Aharoni, Martin Hoefer, and Inbal Talgam-Cohen.
Welfare and beyond in multi-agent
contracts. In EC 2025, 2025.
[BCMG24] Francesco Bacchiocchi, Matteo Castiglioni, Alberto Marchesi, and Nicola Gatti. Learning opti-
mal contracts: How to exploit small action spaces. In ICLR 2024, 2024.
[BFN06a] Moshe Babaioff, Michal Feldman, and Noam Nisan. Combinatorial agency. In EC 2006, pages
18–28, 2006.
[BFN06b] Moshe Babaioff, Michal Feldman, and Noam Nisan. Mixed strategies in combinatorial agency.
In WINE 2006, pages 353–364, 2006.
[BFN09] Moshe Babaioff, Michal Feldman, and Noam Nisan. Free-riding and free-labor in combinatorial
agency. In SAGT 2009, pages 109–121, 2009.
[BFN10] Moshe Babaioff, Michal Feldman, and Noam Nisan. Mixed strategies in combinatorial agency.
J. Artif. Intell. Res., 38:339–369, 2010.
[BFNW12] Moshe Babaioff, Michal Feldman, Noam Nisan, and Eyal Winter. Combinatorial agency. J.
Econ. Theory, 147(3):999–1034, 2012. Preliminary version appeared in EC 2006.
[BN05] Liad Blumrosen and Noam Nisan. On the computational power of iterative auctions i: demand
queries. Technical report, Discussion paper, 2005.
[BW12] Shai Bernstein and Eyal Winter. Contracting with heterogeneous externalities. American Eco-
nomic Journal: Microeconomics, 4(2):50–76, 2012.
[Car15] Gabriel Carroll. Robustness and linear contracts. Am. Econ. Rev., 105(2):536–563, 2015.
[CBCG24] Federico Cacciamani, Martino Bernasconi, Matteo Castiglioni, and Nicola Gatti. Multi-agent
contract design beyond binary actions. In EC 2024, page 1293, 2024.
[CCDH24] Yurong Chen, Zhaohua Chen, Xiaotie Deng, and Zhiyi Huang. Are bounded contracts learnable
and approximately optimal? In EC 2024, pages 315–344, 2024.
[CCL+25a] Matteo Castiglioni, Junjie Chen, Minming Li, Haifeng Xu, and Song Zuo. A reduction from
multi-parameter to single-parameter bayesian contract design. In SODA 2025, pages 1795–1836,
2025.
[CCL25b] Matteo Castiglioni,
Junjie Chen,
and Yingkai Li.
Fair contracts.
arXiv preprint
arXiv:2507.11214, 2025.
[CCL25c] Matteo Castiglioni, Junjie Chen, and Yingkai Li.
Fair team contracts.
arXiv preprint
arXiv:2512.19388, 2025.
[CDK23] Alon Cohen, Argyrios Deligkas, and Moran Koren. Learning approximately optimal contracts.
Theoretical Computer Science, 980:114219, 2023.
27


--- Page 28 ---
[CMG21] Matteo Castiglioni, Alberto Marchesi, and Nicola Gatti.
Bayesian agency:
Linear versus
tractable contracts. In EC 2021, pages 285–286, 2021.
[CMG22] Matteo Castiglioni, Alberto Marchesi, and Nicola Gatti. Designing menus of contracts efficiently:
the power of randomization. In EC 2022, pages 705–735, 2022.
[CMG23] Matteo Castiglioni, Alberto Marchesi, and Nicola Gatti. Multi-agent contract design: How to
commission multiple agents with individual outcomes. In EC 2023, pages 412–448, 2023.
[DDPP24] Ramiro Deo-Campo Vuong, Shaddin Dughmi, Neel Patel, and Aditya Prasad. On supermodular
contracts and dense subgraphs. In SODA 2024, pages 109–132, 2024.
[DEFK21] Paul Dütting, Tomer Ezra, Michal Feldman, and Thomas Kesselheim. Combinatorial contracts.
In FOCS 2021, pages 815–826, 2021.
[DEFK23] Paul Dütting, Tomer Ezra, Michal Feldman, and Thomas Kesselheim. Multi-agent contracts.
In STOC 2023, pages 1311–1324, 2023.
[DEFK25a] Paul Dütting, Tomer Ezra, Michal Feldman, and Thomas Kesselheim. Black-box lifting and
robustness theorems for multi-agent contracts. arXiv preprint arXiv:2511.19358, 2025.
[DEFK25b] Paul Dütting, Tomer Ezra, Michal Feldman, and Thomas Kesselheim. Multi-agent combinatorial
contracts. In SODA 2025, pages 1857–1891, 2025.
[DFG24] Paul Dütting, Michal Feldman, and Yoav Gal-Tzur.
Combinatorial contracts beyond gross
substitutes. In SODA 2024, pages 92–108, 2024.
[DFGR26] Paul Dütting, Michal Feldman, Yoav Gal-Tzur, and Aviad Rubinstein.
When contracts get
complex: Information-theoretic barriers. In SODA 2026, 2026.
[DFPS24] Paul Dütting, Michal Feldman, Daniel Peretz, and Larry Samuelson. Ambiguous contracts.
Econometrica, 92(6):1967–1992, 2024.
[DFPS25] Paul Duetting, Michal Feldman, Tomasz Ponitka, and Ermis Soumalias. The pseudo-dimension
of contracts. In EC 2025, 2025.
[DFR25] Paul Duetting, Michal Feldman, and Yarden Rashti.
Succinct ambiguous contracts.
arXiv
preprint arXiv:2503.02592, 2025.
[DFT24] Paul Dütting, Michal Feldman, and Inbal Talgam-Cohen. Algorithmic contract theory: A survey.
Found. Trends Theor. Comput. Sci., 16(3-4):211–412, 2024.
[DRT19] Paul Dütting, Tim Roughgarden, and Inbal Talgam-Cohen. Simple versus optimal contracts.
In EC 2019, pages 369–387, 2019.
[EFS24] Tomer Ezra, Michal Feldman, and Maya Schlesinger. On the (in)approximability of combina-
torial contracts. In ITCS, volume 287 of LIPIcs, pages 44:1–44:22. Schloss Dagstuhl - Leibniz-
Zentrum für Informatik, 2024.
[EFS26] Tomer Ezra, Michal Feldman, and Maya Schlesinger. Contract design for sequential actions. In
SODA 2026, 2026.
[ELR26] Tomer Ezra, Stefano Leonardi, and Matteo Russo. Contracts with inspections. In SODA 2026,
2026.
[Fei98] Uriel Feige. A threshold of ln n for approximating set cover. J. ACM, 45(4):634–652, 1998.
[Fel25] Michal Feldman. Combinatorial contract design: Recent progress and emerging frontiers. arXiv
preprint arXiv:2510.15065, 2025.
28


--- Page 29 ---
[FGPS25] Michal Feldman, Yoav Gal-Tzur, Tomasz Ponitka, and Maya Schlesinger. Budget-feasible con-
tracts. In EC 2025, pages 353–353, 2025.
[FGPS26] Michal Feldman, Yoav Gal-Tzur, Tomasz Ponitka, and Maya Schlesinger. One action too many:
Inapproximability of budgeted combinatorial contracts. In ITCS 2026, 2026.
[FY25] Michal Feldman and Liat Yashin. Ultra-efficient contracts: Breaking the substitutes barrier in
combinatorial contracts. arXiv preprint arXiv:2506.18008, 2025.
[GH83] Sanford J. Grossman and Oliver D. Hart. An analysis of the principal-agent problem. Econo-
metrica, 51(1):7–45, 1983.
[GSW21] Guru Guruganesh, Jon Schneider, and Joshua R Wang. Contracts under moral hazard and
adverse selection. In EC 2021, pages 563–582, 2021.
[GSWZ23] Guru Guruganesh, Jon Schneider, Joshua R. Wang, and Junyao Zhao. The power of menus in
contract design. In EC 2023, pages 818–848, 2023.
[HFWK19] Christopher Harshaw, Moran Feldman, Justin Ward, and Amin Karbasi. Submodular maxi-
mization beyond non-negativity: Guarantees, fast algorithms, and applications. In International
Conference on Machine Learning, 2019.
[Hig13] High
Pay
Centre.
Introducing
Wagemark:
New
standard
for
fair
and
competitive
pay.
https://highpaycentre.org/
introducing-wagemark-new-standard-for-fair-and-competitive-pay/,
July
2013.
Blog post. Accessed: 2026-01-16.
[Høg26] Mikael Møller Høgsgaard.
The optimal sample complexity of linear contracts.
CoRR,
abs/2601.01496, 2026.
[Hol79] Bengt Holmström. Moral hazard and observability. The Bell Journal of Economics, pages 74–91,
1979.
[HSV14] Chien-Ju Ho, Aleksandrs Slivkins, and Jennifer Wortman Vaughan. Adaptive contract design
for crowdsourcing markets: Bandit algorithms for repeated principal-agent problems. In EC
2014, pages 359–376, 2014.
[Lem17] Renato Paes Leme.
Gross substitutability:
An algorithmic survey.
Games Econ. Behav.,
106:294–316, 2017.
[LLN06] Benny Lehmann, Daniel Lehmann, and Noam Nisan. Combinatorial auctions with decreasing
marginal utilities. Games Econ. Behav., 55(2):270–296, 2006.
[NWF78] George L. Nemhauser, Laurence A. Wolsey, and Marshall L. Fisher. An analysis of approxima-
tions for maximizing submodular set functions - I. Math. Program., 14(1):265–294, 1978.
[Pae17] Renato Paes Leme. Gross substitutability: An algorithmic survey. Games and Economic Be-
havior, 106:294–316, 2017.
[PT24] Bo Peng and Zhihao Gavin Tang. Optimal robust contract design. In Proceedings of the 25th
ACM Conference on Economics and Computation, pages 1294–1294, 2024.
[Seg99] Ilya Segal. Contracting with externalities. The Quarterly Journal of Economics, 114(2):337–388,
1999.
[Seg03] Ilya Segal. Coordination and discrimination in contracting with externalities: Divide and con-
quer? Journal of Economic Theory, 113(2):147–181, 2003.
29


--- Page 30 ---
[Wik25] Wikipedia contributors. Binomial coefficient — bounds and asymptotic formulas, 2025. Accessed
2025-01-07.
[ZBY+23] Banghua Zhu, Stephen Bates, Zhuoran Yang, Yixin Wang, Jiantao Jiao, and Michael I. Jordan.
The sample complexity of online contract design. In EC 2023, page 1188, 2023.
A
Reduction from γ-Equal-Pay to Equal-Pay
Definition A.1 (γ-Equal-Pay Contract). Let γ ≥1. A contract α is γ-equal-pay contract if for any two
non-zero payments αi ≥αj, it holds that αi/αj ≤γ.
Theorem A.2. When f is XOS, for any γ-equal-pay contract (α⋆, S⋆), Algorithm 3 runs in polynomial
time with value oracle access to f and outputs an equal-pay contract α such that there exists an equilibrium
S which satisfies
 
1 −
n
X
i=1
αi
!
f(S) ≥Ω
 1
γ
  
1 −
n
X
i=1
α⋆
i
!
f(S⋆).
Algorithm 3: An O(γ)-approximation to γ-equal-pay via an equal-pay contract for XOS f
Input: A γ-equal-pay contract α⋆with P
i α⋆
i < 1, a profile S⋆∈NE(α⋆), costs c1, . . . , cm ≥0,
value oracle access to an XOS set function f : 2[m] →R≥0
Output: An equal-pay contract α for which there exists a profile S ∈NE(α) such that
(1 −P
i αi)f(S) ≥Ω

1
γ

(1 −P
i α⋆
i )f(S⋆)
1 let N ←A(S⋆) ; // ignore all other agents, i.e., those that shirk in S⋆
2 let Z ←{i ∈N | α⋆
i > 1/2} ; // Large agent (if any)
3 if ∃i ∈Z s.t. (1 −α⋆
i )f(S⋆
i ) ≥4f(S⋆
−i) then
4
αi ←α⋆
i +1
2
;
5
For any j ̸= i, αj ←0;
6
return α;
7 C ←{i ∈A | α⋆
i = 0};
8 if f(S⋆|C) ≥1
2f(S⋆|A\Z) then
9
For any i ∈A, αi ←0;
10
return α;
11 N ←N \ (Z ∪C);
12 if ∃i ∈N s.t. f(S⋆
i ) ≥γ
4 f(S⋆
N) then
13
αi ←3
4;
14
For any j ̸= i, αj ←0;
15
return α;
16 Divide the agents of N into ⌈4
γ ⌉groups A1, . . . , A⌈4
γ ⌉, such that |Aj| ≤γ
2 |N| for all j ∈[⌈4
γ ⌉];
17 Let j = arg maxj∈[⌈4
γ ⌉] f(S⋆
Aj);
18 αi ←3
2 maxi′∈A αi for all i ∈Aj;
19 αi ←0 for all i /∈Aj;
20 return α;
Proof. If Algorithm 3 returns on Line 6, since until that point its execution is identical to that of Algorithm 2,
we are done by Lemma 5.5.
30


--- Page 31 ---
Otherwise, we start by claiming that f(S⋆|A\Z) ≥1
5(1 −Pn
i=1 α⋆
i )f(S⋆). Indeed, if Z = ∅, this is holds
trivially. Otherwise, Z = {i0}, and since the if condition in Line 3 wasn’t met 4f(S⋆
−i0) > (1 −α⋆
i0)f(S⋆
i0),
and thus
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆) ≤
 
1 −
n
X
i=1
α⋆
i
!
(f(S⋆
i0)+f(S⋆
−i0) ≤(1−α⋆
i )f(S⋆
i0)+f(S⋆
−i0) < 5f(S⋆
−i0) = 5f(S⋆|A\Z),
as desired.
If Algorithm 3 returns on Line 10, observe that all the agents C are working for free, and thus S⋆|C is
also an equilibrium under the contract α which pays 0 to everyone. The utility from this is
 
1 −
n
X
i=1
αi
!
f(S⋆|C) = f(S⋆|C) ≥1
2f(S⋆|A\Z) ≥1
10f(S⋆) ≥1
10
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆),
as needed.
If Algorithm 3 reaches Line 11, then observe that f(S⋆|N) ≥1
2f(S⋆|A\Z) ≥
1
10(1 −Pn
i=1 α⋆
i )f(S⋆).
Now, if Algorithm 3 returns on Line 15, then αi = 3
4 for some i such that f(S⋆
i ) ≥γ
4 f(S⋆|N) and α⋆
i ≤1
2.
Let S be an equilibrium of α where only agent i acts, we have that
f(Si) ≥αif(Si) −c(Si) ≥αif(S⋆
i ) −c(S⋆
i ) ≥(αi −α⋆
i )f(S⋆
i ) + α⋆
i f(S⋆
i ) −c(S⋆
i ) ≥(αi −α⋆
i )f(S⋆
i ) ≥1
4f(S⋆
i ),
and thus,
(1 −αi)f(S) ≥1
4 · 1
4f(S⋆
i ) ≥1
16
γ
4 f(S⋆|N) ≥
γ
640
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆),
as needed.
Lastly, it remains to consider the case where Algorithm 3 returns on Line 20. Observe that, because
the if condition of Line 12 was never met, |N| ≥
γ
4 , and thus a partition A1, . . . , A⌈4
γ ⌉of N such that
|Aj| ≤γ
2 |N| for all j ∈[⌈4
γ ⌉] is possible. Let j = arg maxj∈[⌈4
γ ⌉] f(S⋆
Aj). Observe that, by subadditivity,
f(S⋆
Aj) ≥
1
⌈4
γ ⌉f(S⋆|N) ≥γ
8 f(S⋆|N) ≥
γ
80(1 −Pn
i=1 α⋆
i )f(S⋆). Additionally, since α⋆is γ-equal-pay, it holds
that α⋆
i ≥γ maxi′∈A α⋆
i′ for all i ∈N, and in particular, |N| · maxi′∈A α⋆
i′ ≤1
γ . Thus,
n
X
i=1
αi = 3
2 · |Aj| · max
i′∈A α⋆
i′ ≤3
2
γ|N|
2
max
i′∈A α⋆
i′ ≤3
4.
By Lemma 2.6, there exists an equilibrium S of α such that f(S) ≥2
3f(S⋆
Aj), and thus the utility is
 
1 −
n
X
i=1
αj
!
f(S) ≥

1 −3
4
 2
3f(S⋆
Aj) ≥1
6 · γ
80
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆) ≥
γ
640
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆),
as needed.
B
Extending results to BEST Objectives
In this section we consider a wider class of objectives, beyond the principal’s utility (profit). Our focus
is ont he class of BEST objectives, introduced by [FGPS25] for the multi-agent binary-actions model and
generalized by [FGPS26] to the combinatorial actions setting.
In Section B.1 we present the necessary preliminaries for this section, including the definition of BEST
objectives (Definition B.2). In Section B.2 we give a poly-time algorithm for computing a constant-factor
31


--- Page 32 ---
approximation to the optimal equal-pay contract with respect to any BEST objective when f is gross-
substitutes. In Section B.3 we extend the inapproximability results for XOS f from Section 4.1 to any BEST
objective.
In Section B.4 we extend the lower bounds on the price of equality for any BEST objectives, general-
izing the results for additive and subadditive f in Section 5. In Section B.5 we give a an upper bound of
O
 log n
log log n

on the price of equalityfor any BEST objective when f is gross-substitutes, and show its tightness
in Section B.6, by showing that when f is submodular the PoE is unbounded.
B.1
Preliminaries for BEST Objectives
Below we repeat the definition of an objective and BEST objective as introduced by [FGPS26]. One may
observe that it captures the principal’s utility (profit), social welfare, reward and others.
Definition B.1 (Objectives in the Multi-Agent Combinatorial-Actions Model). An objective φ is defined by
a poly-time algorithm that, given a problem instance ⟨A, {Ti}i∈A, f, c⟩, a contract α, and a subset of actions
S ⊆T, outputs a non-negative real number, denoted φ⟨A,{Ti}i∈A,f,c⟩(α, S). This algorithm has value oracle
access to f. We omit the subscript if the instance is clear from context.
Definition B.2 (BEST Objectives). An objective φ belongs to the class of beyond standard (BEST) objectives
if, for any instance ⟨A, {Ti}i∈A, f, c⟩, it is:
(i) Sandwiched between profit and reward: For any α and S ⊆T, uP (α, S) ≤φ(α, S) ≤f(S).
(ii) Decomposable: For any α, any S ⊆T, and any i ∈A, φ(α, S) ≤f(S−i) + φ(α|i, Si).
(iii) Weakly increasing in S: For any α and any S ⊆S′ ⊆T, φ(α, S) ≤φ(α, S′).
(iv) Weakly decreasing in α: For any α ≤α′ (coordinate-wise) and S ⊆T, φ(α, S) ≥φ(α′, S).
Note that the definition of the price of equality (Definition 5.1), genenralizes to any BEST obejective φ
be replacing uP (α, S) with φ(α, S).
In this section we utilize the best-response monotonicity of contracts when f is GS, due to [FGPS26].
Lemma B.3 ([FGPS26]). Consider an instance with a gross substitutes f. For any contract α, equilibrium
S ∈NE(α), and agent i ∈A, there exists an equilibrium S′ ∈NE(α|i) such that Si ⊆S′
i and S′
j = ∅for any
j ̸= i.
B.2
Constant Approximation of the Optimal Equal-Pay Contract for GS f
In this section we show an efficient constant-factor approximation algorithm to the optimal equal-pay contract
for any BEST objective.
Theorem B.4. Let φ be a BEST objective. When f is gross substitutes, there exists a poly-time algorithm
which computes an O(1)-approximation to the optimal equal-pay contract with respect to φ, using value oracle
access to f and φ.
To show Theorem B.4, we present modified versions of Theorem 3.2, Theorem 3.3, and Theorem 3.4 for
gross substitutes f and with respect to BEST objectives.
We start with the following lemma, which corresponds to Theorem 3.2:
Lemma B.5. Let f be a gross substitutes success probability function. Let α⋆be any equal-pay contract such
that P
i∈A αi ≤1 and S⋆be an equilibrium of α⋆. For any 0 ≤ϕ ≤1, there exists an equal-pay contract α′
and an equilibrium S′ of α′ fulfilling φ(α′, S′) ≥ϕ
36 · φ(α⋆, S⋆) and
1. (no large agent) f(S′
i) ≤ϕf(S′) for all i ∈A, or
2. (single agent) α′
i = 0 and Si = ∅for all but one i ∈A.
Proof. We consider the following two cases:
32


--- Page 33 ---
Case 1: For all i ∈A it holds that αi ≤2
3.
If for all i ∈A it also holds that f(S⋆
i ) ≤ϕf(S⋆), we
are done. Otherwise, let i ∈A be such that f(S⋆
i ) > ϕf(S⋆). By Lemma B.3, there exists an equilibrium
S′ ⊆Ti of α⋆|i such that S⋆
i ⊆S′, and thus, by Definition B.2,
φ(α⋆|i, S′) ≥φ(α⋆|i, S⋆
i ) ≥(1 −αi)f(S⋆
i ) ≥ϕ
3 f(S⋆) ≥ϕ
3 φ(α⋆, S⋆),
and we are done.
Case 2: There exists i ∈A such that αi > 2
3.
By Definition B.2(ii) it holds that
φ(α⋆, S⋆) ≥f(S⋆
−i) + φ(α⋆|i, S⋆
i ).
If φ(α⋆|i, S⋆
i ) ≥f(S⋆
−i), then by Lemma B.3, there exists an equilibrium S′ ⊆Ti of α⋆|i such that S⋆
i ⊆S′,
and thus, by Definition B.2(iii)
φ(α⋆|i, S′) ≥φ(α⋆|i, S⋆
i ) ≥1
2φ(α⋆, S⋆),
and we are done. Otherwise, if f(S⋆
−i) > φ(α⋆|i, S⋆
i ), we apply Lemma 2.6 on α⋆and A\{i} with γ = 2, and
get an equal-pay contract α and equilibrium S such that P
j∈A αj = 2 P
j∈A\{i} α⋆
j ≤2
3 and f(S) ≥1
2f(S⋆
−i).
Thus,
φ(α, S) ≥
 
1 −
X
i∈A
αi
!
f(S) ≥1
3 · 1
2f(S⋆
−i) ≥
1
12φ(α⋆, S⋆).
By applying the case 1 analysis on α, S we get an equal-pay contract α′ and equilibrium S′ such that one of
the two conditions of Lemma B.5 holds that
φ(α′, S′) ≥ϕ
3 φ(α, S) ≥ϕ
36φ(α⋆, S⋆),
as needed.
The next observation from [FGPS26] corresponds to Theorem 3.3.
Observation B.6 ([FGPS26]). When f is gross substitutes, the optimal single-agent contract with respect
to any BEST objective φ can be computed in polynomial time, with value oracle access to f and φ.
Finally, the proof of Theorem 3.4 in Section 3 actually shows the following stronger claim with respect
to BEST objectives.
Theorem B.7. When f is submodular, Algorithm 1 runs in polynomial time with value oracle access to f,
and returns an equal-pay contract α such that P
i∈[n] αi ≤1
2 and in any equilibrium S, f(S) ≥Λ with the
following guarantee. For any equal-pay contract α⋆and any equilibrium S⋆of α⋆such that f(S⋆
i ) ≤
1
16f(S⋆)
for all i ∈[n], it holds that
Λ ≥Ω(1)f(S⋆).
In particular, for the contract-equilibrium pairs (α, S) and (α⋆, S⋆) per Theorem B.7 we have, for any
BEST objective
φ(α, S) ≥
 
1 −
n
X
i=1
αi
!
f(S) ≥1
2f(S) ≥1
2Λ = Ω(1)f(S⋆) ≥Ω(1)φ(α⋆, S⋆).
Together with Lemma B.5 and Observation B.6 this proves Theorem B.4.
33


--- Page 34 ---
B.3
No Constant-Factor Approximation for XOS f
In this section we extend the results of Theorem 4.2 to any BEST objective. Namely,
Theorem B.8. Fix any BEST objective φ. When f is XOS, any (possibly randomized) algorithm that makes
only polynomially many demand queries achieves an (expected) approximation ratio of at least Ω(m1/10) to
φ over unconstrained contracts, where m denotes the total number of actions. Moreover, the same lower
bound applies to equal-pay contracts.
Proof. First, Lemma 4.6 implies that for any BEST objective φ, the equal-pay contract αeq  (1/(2ℓ2)), G

induces the equilibrium T|G and satisfies φ(α, T|G) ≥(1 −P
i∈A αi)f(T |G) ≥(1/2) · ℓ4.
Similarly, Lemma 4.8 implies that, for any contract α that is unaligned with respect to G and for any
equilibrium S, it holds that φ(α, S) ≤2ℓ3.
Thus, using the same argument as in Lemma 4.10, and algorithm has an exponentially small probability
to get an (ℓ/4)-approximation to any BEST objective, when G is sampled uniformly at random.
The rest of the proof is identical to that of Theorem 4.2.
B.4
Price of Equality Lower Bounds
Below we adjust the proof of Proposition 5.2 so that the lower bound for additive f is valid all BEST
objectives.
Proposition B.9. There exists an instance with additive f such that the price of fairness for any BEST
objective φ is Ω

log n
log log n

.
Proof. Consider the same instance as in the proof of Proposition 5.2 and let (α⋆, S⋆) be the optimal contract
and equilibrium with respect to φ.
φ(α⋆, S⋆) ≥φ(α, {1, . . . , n}) ≥uP (α, {1, . . . , n}) =
 
1 −
X
i∈A
1
i2Hn
!
f({1, . . . , n}) = 1
2 · Hn,
where α is the contract for which αi =
1
i2Hn .
Additionally, it is shown in the proof of Proposition 5.2 that for any equal-pay α, and for any S ∈NE(α),
it holds that f(S) ≤ln(3 ln n)+o(1). Thus, we get for any such pair (α, S), φ(α, S) ≤f(S) ≤ln(3 ln n)+o(1).
We conclude that
PoEadditive f = φ(α⋆, S⋆)
φ(α, S)
≥
Hn
2 ln(3γ ln n) + o(1) = Ω

ln n
ln(γ ln n)

= Ω

log n
log(γ log n)

.
We also modify Proposition 5.9 so that all BEST objectives are included.
Proposition B.10. There exists an instance with subadditive f such that for any BEST objective φ, there
exists an (unconstrained) contract α⋆and equilibrium S⋆which satisfy
φ(α⋆, S⋆) ≥1
8,
but such that for any equal-pay contract α with Pn
i=1 αi ≤1 and equilibrium S
φ(α, S) ≤
2
√n.
Proof. The proof of Proposition 5.9 suggests that there exists an unconstrained contract and an equilibrium
(α⋆, S⋆) such that uP (α⋆, S⋆) ≥1/8, this immplies that φ(α⋆, S⋆) ≥uP (α⋆, S⋆) ≥1/8. Additionally, for
any equal-pay contract α and any S ∈NE(α) it holds that φ(α, S) ≤f(S) ≤2/√n, where the last inequality
follows from the proof of Proposition 5.9.
34


--- Page 35 ---
B.5
Upper Bound of O(log n/ log log n) on Price of Equality for GS f
Below we show how to achieve an upper bound of O(log n/ log log n) on price of equality for ant BEST objec-
tive under gross substitutes f, matching the lower bound for the additive case established in Proposition B.9.
This result is tight in the sense that for submodular f the price of equalityis unbounded, see theorem B.12.
Algorithm 4: An O(log n/ log log n)-approximation to any BEST objective via an equal-pay con-
tract for GS f
Input: A contract α⋆with P
i α⋆
i < 1, a profile S⋆∈NE(α⋆), costs c1, . . . , cm ≥0, value oracle
access to a GS set function f : 2[m] →R≥0 and the objective function φ
Output: An equal-pay contract α and a profile S ∈NE(α) such that
O(log n/ log log n)(1 −P
i αi)f(S) ≥(1 −P
i α⋆
i )f(S⋆)
1 let N ←A(S⋆) and ignore all other agents, i.e., those that shirk in S⋆;
2 if ∃i ∈[n] such that α⋆
i > 1/2 then
3
α† ←α⋆|i;
4
Let S† ←arg maxS†
i ⊆Ti f(S′
i) −P
j∈S′
i
cj
αi ; // where
0
0 = 0 and
c
0 = ∞for c > 0
5
N ←N \ {i}
6 Rename remaining agents so that α⋆
1 ≥α⋆
2 ≥. . . ; // Only small agents
7 X ←{i ∈N | α⋆
i < 1/(2n)}, k ←|N \ X|;
8 h ←1, ah ←1;
9 while ah < k do
10
bh ←min{ah + ⌊
1
2α⋆ah ⌋+ 1, k + 1};
11
Bh ←{ah, . . . , bh −1};
12
B′
h ←{bh} ; // if bh = k + 1, we set B′
h ←∅
13
h ←h + 1, ah ←bh + 1;
14 B ←{X, B1, . . . , Bh, B′
1, . . . B′
h};
15 B ←arg maxQ∈B f(S⋆
Q) ; // S⋆
Q are the actions in S⋆performed by agent in Q
16 pB ←max{α⋆
i | i ∈B};
17 for every i ∈B, α′
i ←(3/2) · pB, and for every j /∈B, α′
i ←0;
18 Let S′ ←arg maxS†⊆T f(S†) −P
i∈[n]
P
j∈Ti∩S†
cj
αi ; // where
0
0 = 0 and
c
0 = ∞for c > 0
19 if φ(α′, S′) ≥φ(α†, S†) then
20
(α, S) ←(α′, S′)
21 else
22
(α, S) ←(α†, S†)
23 return (α, S);
Proposition B.11. The contract and equilibirium pair (α, S) returned by Algorithm 4 satisfies
φ(α, S) ≥ln ln n
132 ln nφ(α⋆, S⋆)
Proof. Recall that the contract (α†, S†) only incentivize a single agent i ∈A(S⋆) and S† ⊆Ti is ith best-
response to α† = α|i. Thus, by Lemma B.3 f(S†) ≥f(S⋆
i ) ≥φ(α|i, S⋆
i ), where S⋆
i = S⋆∩Ti and the last
inequality follows from Definition B.2, property (i).
Since f is subadditive, the same analysis as in Lemma 5.7 yields f(S′) ≥ln ln n
33 ln nf(S⋆
−i). Since A(S′) only
has small agents we have that P
i∈[n] α′
i = P
i∈B α′
i ≤1/2. Thus,
φ(α′, S′) ≥(1 −
X
i∈[n]
α′
i)f(S′) ≥ln ln n
66 ln nf(S⋆
−i)
35


--- Page 36 ---
1
ε
ε
ε
f(G)
f(B)
f(2)
Figure 3: The coverage function f that exemplifies an unbounded price of equality.
We conclude that
φ(α, S) ≥max{φ(α′, S′), φ(α†, S†))} ≥ln ln n
132 ln n(f(S⋆
−i) + φ(α|i, S⋆
i )) ≥ln ln n
124 ln nφ(α⋆, S⋆),
where the last inequality follows from Definition B.2, property (ii).
B.6
Unbounded Price of Equality for Reward for Submodular f
Theorem B.12. Even with n = 2 agents and m = 3 actions, for submodular f, the price of equality for f
maximization is unbounded.
Consider the following two agent example: agent 1 has actions T1 = {B, G}, and agent 2 has actions
T2 = {2} (a binary agent). We consider costs cB = ε, cG = 1+ε/3, c2 = ε4, for ε < 0.4 and a coverage2 reward
function f : 2{G,B,2} →R≥0 depicted in Figure 3. More precisely, we consider a universe U = {u1, u2, u3, u4}
where the weight of u1 is 1 and the rest of the weights are ε. Each action is associated with elements in U via
τ : T →U. τ(G) = {u1, u2}, τ(B) = {u2, u3}, and τ(2) = {u3, u4}. For any set S ⊆T, let τ(S) = ∪j∈Sτ(j),
then f(S) = P
u∈τ(S) w(u), where w denotes the weight of the element.
Lemma B.13. The (unequal-pay) contract α1 = 1−ε2, α2 = ε1 yields f(S) = 1+3ε from every equilibrium.
Proof. Observe that for any S1 ⊆T1 it holds that
f(2 | S1) ≥ε > c2
α2
,
thus in every equilibrium S it holds that S2 = {2}.
Observe that for every S ⊆T with 2 ∈S
f(B | S \ {B}) ≤f(B | {2}) = ε < cB
α1
,
and thus in every equilibrium S it holds that B /∈S. Finally, observe that
f(G | {2}) = 1 + ε > 1 + ε/3
1 −ε2 = cG
α1
,
So all in all the only equilibrium is S = {G, 2}, and f(S) = 1 + 3ε
Lemma B.14. No equal-pay contract admits an equilibrium with f(S) ≥3ε.
2A strict subset of submodular functions.
36


--- Page 37 ---
Proof. Let α be an equal-pay contract, and S be an equilibrium. If S2 ̸= ∅, then α2 > 0, and α1 ≤1
2. Since
f(G | {B, 2}) = 1 < cG
1
2 , this implies G /∈S and f(S) ≤3ε. Otherwise, if S2 = ∅, then, even if α1 = 1 (which
maximizes f subject to S2 = ∅) we have
f({G}) −cG = 2ε
3 < ε = f({B}) −cB,
which implies that agent 1 strictly prefers {B} over {G}, furthermore
f({G, B}) −cG −cB = 1 + 2ε −1 + 4ε
3 = 2ε
3 < f({B}) −cB,
thus the only equilibrium in this case is S = {B} with f(S) = 2ε.
C
Single-Agent Contracts Are O(n)-Approximately Optimal for Sub-
additive f
Theorem C.1. When f is subadditive, the optimal single-agent contract is an O(n)-approximation of the
optimal unconstrained contract.
Proof. Let α⋆, S⋆be a contract and equilibrium. If there exists an agent j ∈[n] such that α⋆
j > 1
2 and
(1 −α⋆
j)f(S⋆
j ) ≥4f(S⋆
−j), the contract αj =
α⋆
j +1
2
and αi = 0 for all i ̸= j has a principal’s utility
of at least
2
17(1 −Pn
i=1 α⋆
i )f(S⋆), by Lemma 5.5. Otherwise, let Z = {i ∈[n] | α⋆
i > 1
2}. It holds that
f(S⋆
[n]\Z) ≥1
5(1−Pn
i=1 α⋆
i )f(S⋆), since if Z = ∅this is trivial, and if Z = {j} then (1−α⋆
j)f(S⋆
j ) < 4f(S⋆
−j),
and thus
(1 −
n
X
i=1
α⋆
i )f(S⋆) ≤(1 −
n
X
i=1
α⋆
i )(f(S⋆
j ) + f(S⋆
−j) ≤(1 −α⋆
j)f(S⋆
j ) + f(S⋆
−j) ≤5f(S⋆
−j).
Observe that, by subadditivity, there exists an agent k ∈[n] \ Z such that f(S⋆
k) ≥1
nf(S⋆
[n]\Z) ≥
1
5n(1 −
Pn
i=1 α⋆
i )f(S⋆). Consider the contract αk = 3
4 and αi = 0 for all i ̸= k. Let S ⊆Tk be an equilibrium of
this contract where only agent k acts. It holds that
f(S) ≥αkf(S) −c(S) ≥αkf(S⋆
k) −c(S⋆
k) ≥(αk −α⋆
k)f(S⋆
k) + α⋆
kf(S⋆
k) −c(S⋆
k) ≥(αk −α⋆
k)f(S⋆
k)
≥
3
4 −1
2

f(S⋆
k) ≥1
4f(S⋆
k) ≥
1
20n
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆).
So the principal’s utility is
(1 −αk) f(S) = 1
4f(S) ≥
1
80n
 
1 −
n
X
i=1
α⋆
i
!
f(S⋆),
as needed.
D
Constant-Approximation of the Optimal Equal-Pay Contract un-
der Binary-Actions and XOS Rewards
In this appendix we provide a constant-factor approximation to the optimal equal-pay contract in the binary-
action setting under XOS f. Our guarantees hold for any BEST objective (see Definition B.2).
37


--- Page 38 ---
Algorithm 5: An O(1)-approximation for the optimal equal-pay contract under binary actions
Input: n ∈N, costs c1, . . . , cn ≥0, and demand oracle access to an XOS set function
f : 2[n] →R≥0, value oracle access to a BEST objective φ.
Output: An equal pay contract α and equilibrium S such that φ(α, S) ≥Ω(1)φ(α⋆, S⋆) for any
equal-pay contract α⋆and equilibrium S⋆⊆[n].
1 A′ ←{i ∈[n] |
ci
f({i}) ≤1
2};
2 C ←
n
αeq 
ci
f({i}), {i}

, {i}

| i ∈[n]
o
∪{(αeq (0, [n]) , {i ∈[n] | ci = 0)};
3 for k ←8, 9, . . . n do
4
for j ←0, . . . , ⌊log n⌋do
5
y ←2j maxi∈A′ f({i});
6
pi ←max
  cik
2 , y
2k

;
7
T ←a demand bundle with respect to the price vector p;
8
U ←an arbitrary subset of T of size min
 |T|, ⌊k
8⌋

;
9
V ←the result of applying Lemma 2.6 on action profile T, subset of agents U, and γ = 2;
10
C ←C ∪
 αeq   4
k, V

, V
	
;
11 return an element of arg max(α,S)∈C φ(α, S);
Theorem D.1. Let φ be a BEST objective. For XOS f, Algorithm 5 runs in polynomial time given demand
oracle access to f and value oracle access to φ, and outputs an equal pay contract α and equilibrium S such
that φ(α, S) ≥Ω(1)φ(α⋆, S⋆) for any equal-pay contract α⋆and equilibrium S⋆⊆[n] such that Pn
i=1 α⋆
i ≤1.
Lemma D.2. Let α⋆= αeq (t, S⋆) be an equal-pay contract such that t ≤
1
|S⋆|, S⋆is dropout stable with
respect to α⋆and S⋆⊆A′. When f is XOS, there exists an equal-pay contract and equilibrium pair (α, S) ∈C
(defined in Algorithm 5), such that φ(α, S) ≥
1
256f(S⋆).
Proof. Let i⋆∈arg maxi∈A′ f({i}). Observe that

αeq 
ci⋆
f({i⋆}), {i⋆}

, {i⋆}

∈C, and indeed {i⋆} is an
equilibrium of α = αeq 
ci⋆
f({i⋆}), {i⋆}

. Furthermore, φ(α, {i⋆}) ≥

1 −
ci⋆
f({i⋆})

f({i⋆}) ≥1
2f({i⋆}), where
the first inequality is since φ is a BEST objective and thus lower-bounded by the principal’s utility, and the
second is since i⋆∈A′.
If f(S⋆) ≤2f({i⋆}) then φ(α, {i⋆}) ≥1
2f({i⋆}) ≥1
4f(S⋆), and we are done.
If |S⋆| < 8, from subadditivity f({i⋆}) ≥1
7f(S⋆), and thus φ(α, {i⋆}) ≥1
2f({i⋆}) ≥
1
14f(S⋆), as needed.
Otherwise, we have that |S⋆| ≥8 and f(S⋆) > 2f({i⋆}) = 2 maxi∈A′ f({i}).
Additionally, due to
subadditivity, f(S⋆) ≤n maxi∈A′ f({i}). Thus, in some iteration k = |S⋆| and y satisfies 1
2f(S⋆) ≤y ≤
f(S⋆). Let V be as defined in this iteration, and α = αeq   4
k, V

. We claim that φ(α, V ) ≥
1
256f(S⋆),
concluding the proof. Firstly,
φ(α, V ) ≥

1 −
X
i∈[n]
αi

f(V ) =

1 −4
k |V |

f(V ) ≥

1 −4
k
k
8

f(V ) ≥1
2f(V ),
so it is left to show that V is an equilibrium of α and f(V ) ≥
1
128f(S⋆).
Let p be the price vector defined by pi = max
  cik
2 , y
2k

, and let A0 = {i ∈[n] | pi = cik/2} and
A1 = [n] \ A0. Since T is a demand set with respect to the price vector p, we have
f(T) ≥f(T) −
X
i∈T
pi ≥f(S⋆∩A0) −
X
i∈S⋆∩A0
pi = f(S⋆∩A0) −
X
i∈S⋆∩A0
ci · k
2
.
(6)
38


--- Page 39 ---
Since S⋆dropout stable with respect to α⋆= αeq (t, S⋆), it holds that, for any i ∈S⋆, 1
k · f(i | S⋆\ {i}) ≥
t · f(i | S⋆\ {i}) ≥ci, i.e., ci · k ≤f(i | S⋆\ {i}). Plugging this into Equation (6) we get
f(T) ≥f(S⋆∩A0) −
X
i∈S⋆∩A0
1
2f(i | S⋆\ {i}) ≥f(S⋆∩A0) −1
2f(S⋆∩A0) = 1
2f(S⋆∩A0),
where the second inequality is by Lemma 2.7. It also holds that
f(T) ≥f(T) −
X
i∈T
pi ≥f(S⋆∩A1) −
X
i∈S⋆∩A1
pi = f(S⋆∩A1) −
X
i∈S⋆∩A1
y/2k = f(S⋆∩A1) −|S⋆∩A1| y
2k
≥f(S⋆∩A1) −y
2 ≥f(S⋆∩A1) −1
2f(S⋆).
On the one hand we have f(T) ≥1
2f(S⋆∩A0), and on the other f(T) ≥f(S⋆∩A1) −1
2f(S⋆), which yields
3f(T) = 2f(T) + f(T) ≥f(S⋆∩A0) + f(S⋆∩A1) −1
2f(S⋆) ≥f(S⋆) −1
2f(S⋆) = 1
2f(S⋆),
i.e., f(T) ≥1
6f(S⋆). We also note that T is dropout stable with respect to αeq   2
k, T

, since for each i ∈T it
holds that 2
kf(i | T \ {i}) ≥2
kpi ≥2
k
ci·k
2
= ci. We next claim that f(U) ≥
1
64f(S⋆). Observe that if U = T,
there’s nothing to prove. Otherwise, it holds that |U| =
 k
8

, and thus, by Lemma 2.7,
f(U) ≥
X
i∈U
f(i | T \ {i}) ≥
X
i∈U
y
2k =
k
8
 y
2k ≥y
32 ≥1
64f(S⋆).
We now have that T is dropout stable with respect to αeq   2
k, T

, and f(U) ≥
1
64f(S⋆), thus, by the
guarantees of Lemma 2.6, V is an equilibrium of αeq   4
k, V

and satisfies f(V ) ≥
1
128f(S⋆), as needed.
Proof of Theorem D.1. Let α⋆= αeq (t, A⋆) be an equal-pay contract and S⋆⊆[n] be an equilibrium such
that Pn
i=1 α⋆
i ≤1. Let Z = {i ∈[n] | ci = 0}, and observe that Z is an equilibrium of αeq (0, [n]), and
(1 −Pn
i=1 0) f(Z) ≤φ(αeq (0, [n]) ≤f(Z), i.e., φ(αeq (0, [n]) , Z) = f(Z). It also holds that S⋆\ A⋆⊆Z.
If t > 1
2, then A⋆= {i⋆}. By Definition B.2(ii) we have
φ(α⋆, S⋆) ≤f(S⋆
−i⋆)+φ(α⋆|i⋆, {i⋆}) ≤f(Z)+φ(α⋆|i⋆, {i⋆}) = φ(αeq (0, [n]) , Z)+φ

αeq

ci⋆
f({i⋆}), {i⋆}

, {i⋆}

,
So at least one of (αeq (0, [n]) , Z) and

αeq 
ci⋆
f({i⋆}), {i⋆}

, {i⋆}

is a 1
2-approximately optimal contract with
respect to φ, and since both are in C (as defined in Algorithm 5) we are done.
Otherwise, if t ≤1
2, we have
φ(α⋆, S⋆) ≤f(S⋆) ≤f(S⋆∩A⋆) + f(S⋆\ A⋆) ≤f(S⋆∩A⋆) + f(Z) = f(S⋆∩A⋆) + φ(αeq (0, [n]) , Z).
Observe that S⋆∩A⋆is dropout stable with respect to αeq (t, S⋆∩A⋆), and also S⋆∩A⋆⊆A′, which implies
by Lemma D.2 the existence of a pair (α, S) ∈C such that φ(α, S) ≥
1
256f(S⋆∩A⋆). Thus,
φ(α⋆, S⋆) ≤256 · φ(α, S) + φ(αeq (0, [n]) , Z).
Since (α, S), (αeq (0, [n]) , Z) ∈C, this concludes the proof.
E
Optimal Equal-Pay Contract for Additive Functions
In this section, we show that when the success probability function f is additive, the optimal equal-pay
contract can be computed in polynomial time.
39


--- Page 40 ---
Theorem E.1. When f is additive, the optimal equal-pay contract can be computed in polynomial time.
Proof. Consider a multi-agent combinatorial-actions instance ⟨A, {Ti}i∈A, f, c⟩with additive f. Under a
contract α, the utility of agent i is
αi · f(S ⊔S−i) −c(S) =
X
j∈S
(αi · f({j}) −cj) + αi · f(S−i).
Hence, agent i ∈A chooses an action j ∈Ti if and only if αi ≥cj/f({j}).
Note that an optimal equal-pay contract must set its payment equal to cj/f({j}) for some action j ∈Ti
and some agent i ∈A. Otherwise, the principal could strictly decrease the payment without changing the
induced equilibrium. Since there are only polynomially many such candidate values, one can enumerate all
of them. For each candidate payment p, the problem reduces to selecting the optimal subset of agents S ⊆A
to incentivize at payment p.
Fix a payment p. For each agent i, define wp
i = P
j∈Ti f({j}) · 1[cj/f({j}) ≤p] which represents the
success probability contributed by agent i at payment p.
Without loss of generality, assume that A =
{1, 2, . . . , n} and wp
1 ≥wp
2 ≥. . . ≥wp
n. The principal’s utility from incentivizing a set of agents S ⊆A
at payment p is then (1 −p · |S|) · P
i∈S wp
i . This expression is maximized when S is chosen as a prefix
of {1, . . . , n}. Since there are polynomially many such prefixes, one can check each of them to identify the
optimal set of agents for payment p. This completes the proof.
Remark E.2. The above can easily be adjusted to output the equal-pay contract which maximizes the reward
or the social welfare.
F
Missing Proofs
F.1
Proof of Lemma 2.3
Proof. As S† is an equilibrium with respect to 2α, agent i ∈A(S) weakly prefers S†i over S†i ∪Si. That is,
(2αi)f(S†) −c(S†
i) ≥(2αi)f(S†
i ∪Si, S†
−i) −c(S†
i ∪Si)
and therefore
(2αi)

f(S†
i ∪Si, S†
−i) −f(S†)

≤c(S†
i ∪Si) −c(S†
i) = c(Si \ S†
i).
Furthermore, since S is subset stable with respect to α, agent i ∈A(S) weakly prefers Si over S†i∩Si ⊆Si.
So, we have
αif(S) −c(Si) ≥αif(S†
i ∩Si, S−i) −c(S†
i ∩Si).
This implies
αi

f(S) −f(S†
i ∩Si, S−i)

≥c(Si) −c(S†
i ∩Si) = c(Si \ S†
i).
In combination, we obtain
f(S†
i ∪Si, S†
−i) −f(S†) ≤αi
2αi
 f(S) −f(S†
i ∩Si, S−i)

= 1
2
 f(S) −f(S†
i ∩Si, S−i)

,
(7)
where we use that the expression is non-negative by monotonicity of f.
Renumber the agents such that A(S) = {1, . . . , k = |A(S)|}, and Let Sj
i = S†i ∪Si if i ≤j and Sj
i = S†i
otherwise (for j = 1, . . . k). By this definition
f(S) ≤f(Sk) = f(S0) +
k
X
i=1
 f(Si) −f(Si−1)

.
40


--- Page 41 ---
Note that S0 = S†. Furthermore, by submodularity of f, we have for all i ∈[k]
f(Si) −f(Si−1) = f(Si \ S†
i | Si−1) ≤f(Si \ S†
i | S†) = f(S†
i ∪Si, S†
−i) −f(S†).
Therefore, we have
f(S) ≤f(S†) +
k
X
i=1
 f(S†
i ∪Si, S†
−i) −f(S†)

≤f(S†) +
k
X
i=1
1
2
 f(S) −f(S†
i ∩Si, S−i)

≤f(S†) +
n
X
i=1
1
2
 f(S) −f(S†
i ∩Si, S−i)

≤f(S†) + 1
2f(S \ S†),
submodularity of f
where in the second inequality we used Equation (7). So, we have f(S) ≤2f(S†).
41
